(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[20],{671:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return w}));var c,i=n(42),a=n(83),o=n(134),r=n(354),l=n(674),s=n.n(l),d=n(673),u=n.n(d),b=n(43),j=n(36),f=n(47),O=n(173),p=n(155),x=n(37),m=n(672),h=n(106),v=n(251),g=n(104),C=n(0),E=n(1);!function(e){e.BY_TITLE="name",e.BY_CREATED_TIME="createdTime"}(c||(c={}));var S=[new j.e(c.BY_TITLE,"regTemp.sortBy.name"),new j.e(c.BY_CREATED_TIME,"regTemp.sortBy.createdTime")];function w(e){var t=e.sortProp,n=e.onSortChange,c=e.textSearch,l=e.onSearchChange,d=e.deleteDisabled,j=e.deleteTitle,w=e.addTitle,T=e.selectTitle,D=e.showSelectBtn,I=void 0!==D&&D,k=e.selectMode,y=void 0!==k&&k,N=e.authControl,A=void 0===N?"GENERAL":N,_=e.menus||S,P=Object(g.b)(),G=Object(g.a)(),F="GENERAL"===A?G:!P,L=Object(b.c)(f.a),R={add:!I||!y,delete:(!I||y)&&e.onDelete,select:I&&!y,selectAll:I&&y&&e.viewMode===m.a.CARD,cancel:I&&y};return Object(E.jsxs)(i.a,{sx:{mb:2,display:"flex",justifyContent:"space-between",height:36},children:[y&&Object(E.jsxs)(i.a,{className:"flex-start",children:[Object(E.jsx)(a.a,{fontSize:16,color:v.c,children:e.selectedCount}),Object(E.jsx)(a.a,{sx:{ml:1},children:Object(x.b)("common.selected")})]}),!y&&Object(E.jsxs)(i.a,{className:"flex-start",children:[void 0!==e.viewMode&&Object(E.jsx)(m.b,{items:m.c,mode:e.viewMode,onChange:e.onViewModeChange}),L?null:Object(E.jsx)(p.a,{title:"regTemp.sortBy."+t,selected:t,menus:_,onMenuClick:n}),Object(E.jsx)(O.a,{sx:{ml:L?0:2,bgcolor:"#fff"},value:c,onChange:l})]}),F&&Object(E.jsx)(C.Fragment,{children:L?Object(E.jsxs)(i.a,{children:[Object(E.jsx)(r.a,{onClick:e.onAdd,size:"medium",edge:"start",color:"primary","aria-label":"open drawer",sx:{mr:1},children:Object(E.jsx)(u.a,{})}),Object(E.jsx)(r.a,{onClick:e.onDelete,disabled:d,size:"medium",edge:"start",color:"error","aria-label":"open drawer",children:Object(E.jsx)(s.a,{})})]}):Object(E.jsxs)(i.a,{children:[R.add&&Object(E.jsx)(o.a,{onClick:e.onAdd,variant:"contained",children:Object(x.b)(w)}),R.cancel&&Object(E.jsx)(o.a,{onClick:function(){e.selectAll(!1),e.setSelectMode(!1)},variant:"outlined",children:Object(x.b)("common.cancel")}),R.selectAll&&Object(E.jsx)(h.a,{sx:{ml:2},onClick:function(){e.selectAll&&e.selectAll(!0)},children:Object(x.b)("common.selectAll")}),R.select&&Object(E.jsx)(h.a,{sx:{ml:2},onClick:function(){var t;void 0!==t?e.setSelectMode(t):e.setSelectMode(!y)},children:Object(x.b)(T)}),R.delete&&Object(E.jsx)(o.a,{onClick:e.onDelete,disabled:d,sx:{ml:2},variant:void 0!==e.viewMode?"contained":"outlined",children:Object(x.b)(j)})]})})]})}},672:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var c,i=n(5),a=n(7),o=n(134),r=n(64),l=n(689),s=n(995),d=n(171),u=n(51),b=n(1),j=Object(a.a)(o.a)((function(e){var t=e.theme;return{height:36,borderColor:t.palette.action.disabled,"&:hover":{borderColor:t.palette.action.disabled},"&.checked":{backgroundColor:Object(r.a)(t.palette.primary.main,.32)},"&.checked:hover":{backgroundColor:Object(r.a)(t.palette.primary.main,.32)}}}));!function(e){e[e.LIST=0]="LIST",e[e.CARD=1]="CARD"}(c||(c={}));var f=[{icon:"ic_viewmodule",value:c.CARD,label:"common.cardView"},{icon:"ic_viewheadline",value:c.LIST,label:"common.listView"}];function O(e){var t=e.mode,n=e.onChange,c=e.items,a=void 0===c?[]:c,o=e.sx,r=void 0===o?{}:o,f=Object(d.a)().t;return Object(b.jsx)(l.a,{sx:Object(i.a)({mr:2},r),children:a.map((function(e){return Object(b.jsx)(s.a,{title:f(e.label),children:Object(b.jsx)(j,{size:"small",onClick:function(){var c;(c=e.value)!==t&&n(c)},className:t===e.value?"checked":"",sx:{px:1},children:Object(b.jsx)(u.a,{color:"rgba(0, 0, 0, 0.54)",mr:0,icon:e.icon})})},e.label)}))})}},678:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return b}));var c=n(29),i=function(e){return{type:c.d.INIT_CONFIG_DETAIL,data:e}},a=function(){return{type:c.d.RESET_CONFIG}},o=function(e){return{type:c.d.SET_BASIC_CONFIG,data:e}},r=function(e){return{type:c.d.SET_SETTINGS_CONFIG,data:e}},l=function(e){return{type:c.d.SET_KIOSK_INFO,data:e}},s=function(e){return{type:c.d.SET_DEVICE_CONFIG,data:e}},d=function(e){return{type:c.d.SET_PART_DEVICE_CONFIG,data:e}},u=function(e){return{type:c.d.SET_DEVICE_GROUP,data:e}},b=function(e){return{type:c.d.SET_DEVICE_POOL,data:e}}},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(5),i=n(42),a=n(64),o=n(83),r=n(1);function l(e){var t=e.size,n=void 0===t?"medium":t;return Object(r.jsx)(i.a,{sx:Object(c.a)({userSelect:"none",borderRadius:1.5,height:"small"===n?24:32,fontSize:14,display:"inline-flex",alignItems:"center",lineHeight:"small"===n?"24px":"32px",whiteSpace:"nowrap",px:"small"===n?1:1.5,bgcolor:Object(a.a)(e.color,.1)},e.sx),children:Object(r.jsx)("span",{className:"custom-chip-inner",style:{whiteSpace:"nowrap",color:e.color},children:Object(r.jsx)(o.a,{className:"line-clamp",style:e.innerStyle,children:e.label})})})}},680:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return b}));var c=n(84),i=function(e){return e.regTemp.regTempDetail},a=function(e){var t=e.regTemp.regTempDetail;return{name:t.name,description:t.description}},o=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting},r=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.kiosk},l=function(e){var t,n=null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.config;return n.wifiForProvision||(n.wifiForProvision=c.w),n},s=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.deviceGroup},d=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.deviceSnPool},u=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting.adb},b=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting.bluetooth}},682:function(e,t,n){"use strict";var c=n(7),i=n(656),a=n(64),o=Object(c.a)(i.a)((function(e){var t=e.theme;return{backgroundColor:Object(a.a)(t.palette.primary.main,.08),color:t.palette.primary.main,fontSize:14,paddingRight:6}}));t.a=o},688:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return O}));var c,i,a=n(13),o=n(14),r=n(30),l=n(31),s=n(108),d=n(138);!function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.DOCUMENT="DOCUMENT",e.AUDIO="AUDIO",e.OTHER="OTHER"}(c||(c={})),function(e){e.GENERATE="generate",e.TEMPORARY="temporary"}(i||(i={}));var u,b=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"desc",s=arguments.length>5?arguments[5]:void 0;return Object(o.a)(this,n),(e=t.call(this,c,i,a,r,l)).page=c,e.pageSize=i,e.textSearch=a,e.sortProperty=r,e.sortOrder=l,e.fileType=s,e}return Object(a.a)(n)}(d.d),j=new Map([[c.AUDIO,["mp3","aac/mpa","ape/flac","wav","wma","amr","mid"]],[c.VIDEO,["wmv","asf","asx","mp4","mov","m4v","avi","dat","mkv","flv","vob"]],[c.IMAGE,["gif","jpg","pic","png","bmp","tif","svg"]],[c.DOCUMENT,["txt","doc","wps","docx","xls","xlsx","pdf","ppt","pptx","md"]]]);function f(e){var t,n=e.split("."),i=n[n.length-1];return t=i,[c.AUDIO,c.VIDEO,c.IMAGE,c.DOCUMENT].find((function(e){return j.get(e).includes(t)}))||c.OTHER}!function(e){e[e.UPLOADING=0]="UPLOADING",e[e.FILE_EXISTED=1]="FILE_EXISTED",e[e.FAILED=2]="FAILED",e[e.SUCCESSED=3]="SUCCESSED",e[e.CANCELED=4]="CANCELED"}(u||(u={}));var O,p=Object(a.a)((function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPLOADING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(s.a)(),a=arguments.length>4?arguments[4]:void 0;Object(o.a)(this,e),this.name=t,this.size=n,this.status=c,this.id=i,this.version=a}));!function(e){e[e.NAME_EXISTED=48]="NAME_EXISTED"}(O||(O={}))},692:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(6),i=n(42),a=n(37),o=n(0),r=n(250),l=n(24),s=n(153),d=n(135),u=n(253),b=n(1);function j(e){var t=e.parentId,n=Object(o.useState)(""),j=Object(c.a)(n,2),f=j[0],O=j[1],p=function(){O(""),e.onClose()};return Object(b.jsx)(d.b,{transparentTitleBg:!0,title:"regTemp.addDeviceGroup",open:e.open,onClose:p,onOk:function(){if(f){var n=r.f.createGroup({parentId:t,deviceGroupName:f});return n.then((function(t){e.onOk(),p()})),n}l.c.error("device.errors.needGroupName")},children:Object(b.jsxs)(i.a,{sx:{pl:2},className:"flex-start flex-wrap",children:[Object(b.jsx)(i.a,{sx:{width:300,mr:2},children:Object(b.jsx)(s.a,{name:"groupName",onChange:function(e){O(e.target.value)},label:"common.name",value:f,placeholder:Object(a.b)("regTemp.holders.groupName"),inputProps:{maxLength:12}})}),Object(b.jsx)(u.a,{content:"regTemp.max12Chars"})]})})}},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var c=n(5),i=n(3),a=n(0),o=n(915),r=n(993),l=n(8),s=n(83),d=n(64),u=n(42),b=n(995),j=n(354),f=n(555),O=n(51),p=n(37),x=n(43),m=n(47),h=n(1);function v(e){var t=a.forwardRef((function(t,n){var c,a,r=Object(x.c)(m.l),v=e.sx,g=void 0===v?{}:v,C=t.classes,E=t.className,S=t.label,w=t.nodeId,T=t.icon,D=t.expansionIcon,I=t.displayIcon,k=Object(o.a)(w),y=k.disabled,N=k.expanded,A=k.selected,_=k.focused,P=k.handleExpansion,G=k.handleSelection,F=k.preventSelection,L=T||D||I,R=function(e,t){e.stopPropagation(),t instanceof Function&&t()},M=Object(d.e)(r,.3);return Object(h.jsxs)(u.a,{className:Object(l.a)(E,C.root,(c={},Object(i.a)(c,C.expanded,N),Object(i.a)(c,C.selected,A),Object(i.a)(c,C.focused,_),Object(i.a)(c,C.disabled,y),c)),onMouseDown:function(e){F(e)},ref:n,sx:g,children:[Object(h.jsx)(u.a,{onClick:function(e){P(e)},className:C.iconContainer,children:L}),Object(h.jsxs)(u.a,{className:"flex",style:{flex:1,height:"100%",marginLeft:4,overflow:"hidden"},onClick:function(){e.ContentProps.onSelected&&e.ContentProps.onSelected({name:t.label,id:t.nodeId})},children:[Object(h.jsx)(O.a,{fontSize:32,icon:"ic_menu_device1",color:M}),Object(h.jsx)(s.a,{onClick:function(e){G(e)},component:"div",sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},className:C.label,children:S}),!1!==e.ContentProps.showAddButton&&Object(h.jsx)(b.a,{title:Object(p.b)("device.addGroup"),children:Object(h.jsx)(j.a,{onClick:function(t){return R(t,e.ContentProps.onAddClick)},className:"tree-item-operation flex",size:"small",children:Object(h.jsx)(O.a,{mr:0,icon:"ic_add1"})})}),e.ContentProps.onDetailClick&&Object(h.jsx)(j.a,{sx:{ml:0},onClick:function(t){return R(t,e.ContentProps.onDetailClick)},className:"tree-item-operation flex",size:"small",children:Object(h.jsx)(O.a,{mr:0,icon:"ic_look"})}),null===(a=e.ContentProps.operationComponents)||void 0===a?void 0:a.map((function(e){return e})),e.ContentProps.showRadio&&Object(h.jsx)(f.a,{onChange:function(t){return e.ContentProps.onChange(t)},checked:e.checked})]})]})}));return Object(h.jsx)(r.a,Object(c.a)({ContentComponent:t},e))}},704:function(e,t,n){"use strict";var c=n(13),i=n(14),a=n(18),o=n(30),r=n(31),l=n(17),s=n(12),d=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e,c,o,r,d;Object(i.a)(this,n);for(var u=arguments.length,b=new Array(u),j=0;j<u;j++)b[j]=arguments[j];return(d=t.call.apply(t,[this].concat(b))).getFileList=function(t){return Object(l.a)((e=Object(a.a)(d),Object(s.a)(n.prototype)),"get",e).call(e,"/api/contents",{params:t})},d.uploadFile=function(e,t,i){return Object(l.a)((c=Object(a.a)(d),Object(s.a)(n.prototype)),"post",c).call(c,"/api/content/upload",e,{onUploadProgress:t,timeout:1/0,signal:i})},d.deleteFile=function(e){return Object(l.a)((o=Object(a.a)(d),Object(s.a)(n.prototype)),"delete",o).call(o,"/api/contents?contentIdStr="+e)},d.multiDeleteFiles=function(e){return Promise.all(e.map((function(e){return d.deleteFile(e)})))},d.editFile=function(e,t){return Object(l.a)((r=Object(a.a)(d),Object(s.a)(n.prototype)),"post",r).call(r,"/api/content/".concat(t,"/edit"),e)},d}return Object(c.a)(n)}(n(107).a),u=new d;t.a=u},705:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return I}));var c=n(6),i=n(5),a=n(1004),o=n(7),r=n(64),l=n(42),s=n(83),d=n(550),u=n(555),b=n(37),j=n(0),f=n(43),O=n(250),p=n(678),x=n(47),m=n(680),h=n(173),v=n(174),g=n(51),C=n(692),E=n(693),S=n(253),w=n(1),T={padding:"0 16px",boxShadow:"0px 1px 4px 2px rgb(44 57 127 / 12%)",marginBottom:12,borderRadius:4,height:56,width:360},D=Object(o.a)(a.a)((function(e){var t=e.theme;return{padding:"16px 32px","& .Mui-focused":{backgroundColor:"transparent !important"},"& .Mui-selected":{backgroundColor:Object(r.a)(t.palette.primary.main,.1)+" !important","& .tree-item-operation":{display:"block"}}}})),I=Object(o.a)(E.a)((function(e){e.theme;return{".MuiTreeItem-content":Object(i.a)(Object(i.a)({},T),{},{"& .tree-item-operation":{display:"none"},"&:hover .tree-item-operation":{display:"block !important"}}),"&:hover .MuiTreeItem-content":{}}})),k=Object(j.forwardRef)((function(e,t){var n=Object(j.useState)(""),a=Object(c.a)(n,2),o=a[0],r=a[1],E=Object(f.c)(x.c),k=Object(j.useState)([]),y=Object(c.a)(k,2),N=y[0],A=y[1],_=Object(j.useState)(""),P=Object(c.a)(_,2),G=P[0],F=P[1],L=Object(f.b)(),R=Object(f.c)(m.b),M=Object(j.useMemo)((function(){return[null===R||void 0===R?void 0:R.id]}),[]),z=Object(j.useState)((null===R||void 0===R?void 0:R.id)||null),U=Object(c.a)(z,2),V=U[0],B=U[1],W=Object(j.useState)(R),H=Object(c.a)(W,2),Y=H[0],X=H[1],q=Object(j.useState)(!1),J=Object(c.a)(q,2),K=J[0],Q=J[1],Z=Object(j.useCallback)((function(){L(Object(p.e)(Y))}),[Y,L]);Object(j.useEffect)((function(){return Z}),[Z]);var $=Object(j.useCallback)((function(){O.f.getAllGroupTree().then((function(e){e.success&&A(e.nodeList)}))}),[]);Object(j.useImperativeHandle)(t,(function(){return{validateForm:function(){return new Promise((function(e,t){Boolean(Y)?e({}):e({message:"regTemp.groupRequired"})}))},isValid:Boolean(Y),values:Y}})),Object(j.useEffect)((function(){G?O.f.searchGroups({textSearch:G}).then((function(e){A(e)})):$()}),[G,$]);var ee,te=function e(t){var n,c=t.level%6,i=E[c];return Object(w.jsx)(I,{ContentProps:{avatarColor:i,onChange:function(e){return function(e,t){if(e.target.checked){var n=t.id,c=t.name;B(n),X({id:n,name:c})}}(e,t)},onAddClick:function(){return function(e){console.log(e),r(e.id),Q(!0)}(t)},showRadio:!0},checked:V===t.id,onClick:function(){return function(e){B(e.id)}(t)},nodeId:t.id,label:t.name,children:null===(n=t.child)||void 0===n?void 0:n.map((function(t){return e(t)}))},t.id)};return Object(w.jsxs)(l.a,{sx:{height:1,display:"flex",flexDirection:"column"},children:[Object(w.jsxs)(l.a,{className:"flex-start flex-wrap",children:[Object(w.jsx)(s.a,{sx:{mr:4},children:Object(b.b)("regTemp.linkGroupToTemp")}),Object(w.jsx)(h.a,{value:G,placeholder:"device.searchGroup",onChange:function(e){F(e)}})]}),Object(w.jsx)(d.a,{sx:{my:3}}),Object(w.jsxs)(l.a,{className:"flex-start flex-wrap",sx:{flex:1,alignItems:"flex-start",overflowY:"auto",minHeight:10},children:[Object(w.jsx)(l.a,{sx:{height:1,width:500,overflowY:"auto"},children:Object(w.jsxs)(D,{selected:V,defaultExpanded:M,defaultCollapseIcon:Object(w.jsx)(g.a,{icon:"ic_arrow_down"}),defaultExpandIcon:Object(w.jsx)(g.a,{icon:"ic_arrow_right"}),sx:{flexGrow:1,overflowY:"auto"},children:[N&&(ee=N,ee.map((function(e){return te(e)}))),!N.length&&Object(w.jsx)(v.a,{})]})}),Object(w.jsx)(d.a,{orientation:"vertical"}),Object(w.jsxs)(l.a,{sx:{flex:1,minWidth:400,p:4,pt:1},children:[Object(w.jsx)(s.a,{children:Object(b.b)("regTemp.selectedGroup")}),Y&&Object(w.jsxs)(l.a,{className:"flex-between",style:Object(i.a)({},T),sx:{boxSizing:"border-box",my:3},children:[Object(w.jsx)(g.a,{primary:!0,fontSize:32,icon:"ic_menu_device1"}),Object(w.jsx)(s.a,{component:"div",children:Y.name}),Object(w.jsx)(l.a,{sx:{flex:1}}),Object(w.jsx)(u.a,{checked:!0})]})]})]}),Object(w.jsx)(d.a,{sx:{my:3}}),Object(w.jsx)(l.a,{sx:{pb:3,mb:-1},className:"footer",children:Object(w.jsx)(S.a,{content:"regTemp.selectGroupAddTip"})}),Object(w.jsx)(C.a,{parentId:o,open:K,onClose:function(){Q(!1)},onOk:function(){$()}})]})}));t.c=k},719:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(6),i=n(0),a=n(250);function o(e){var t=Object(i.useState)(),n=Object(c.a)(t,2),o=n[0],r=n[1],l=Object(i.useState)(!1),s=Object(c.a)(l,2),d=s[0],u=s[1],b=Object(i.useCallback)((function(){u(!0),a.f.getAllDevicesWithGroupInfo(e).then((function(e){u(!1),r(e)})).catch((function(){u(!1)}))}),[u,e]);return Object(i.useEffect)((function(){b()}),[b]),{fetchDeviceLoading:d,deviceData:o}}},727:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(42),i=n(792),a=n(83),o=n(251),r=n(1);function l(e){var t=(e.progress||0).toFixed(2),n=e.height,l=void 0===n?8:n,s=e.color,d=void 0===s?"primary":s,u=e.label,b=e.sx,j=void 0===b?{}:b,f=t+"%";return Object(r.jsxs)(c.a,{sx:j,className:"flex-start",children:[Object(r.jsx)(c.a,{sx:{flex:1},children:Object(r.jsx)(i.a,{color:d,sx:{height:l,borderRadius:"5px",mr:1},variant:"determinate",value:e.progress})}),Object(r.jsx)(a.a,{color:o.b,children:u||f})]})}},728:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c,i=n(23),a=n(5),o=n(6),r=n(42),l=n(83),s=n(689),d=n(134),u=n(655),b=n(354),j=n(37),f=n(0),O=n(43),p=n(250),x=n(47),m=n(173),h=n(174),v=n(51),g=n(682),C=n(705),E=n(45),S=n(138),w=n(671),T=n(719),D=n(139),I=n(1);!function(e){e[e.DEVICE=0]="DEVICE",e[e.GROUP=1]="GROUP"}(c||(c={}));var k=Object(f.forwardRef)((function(e,t){var n=Object(O.c)(x.c),k=Object(f.useState)([]),y=Object(o.a)(k,2),N=y[0],A=y[1],_=Object(f.useState)(e.selected||[]),P=Object(o.a)(_,2),G=P[0],F=P[1],L=Object(f.useState)([]),R=Object(o.a)(L,2),M=(R[0],R[1]),z=Object(f.useState)(c.GROUP),U=Object(o.a)(z,2),V=U[0],B=U[1],W=Object(f.useState)(""),H=Object(o.a)(W,2),Y=H[0],X=H[1],q=Object(f.useState)(new S.d(0,8,null,w.a.BY_CREATED_TIME)),J=Object(o.a)(q,2),K=J[0],Q=J[1],Z=Object(T.a)(K),$=Z.deviceData,ee=Z.fetchDeviceLoading,te=Object(f.useState)(""),ne=Object(o.a)(te,2),ce=ne[0],ie=ne[1];Object(f.useEffect)((function(){F(e.selected||[])}),[e.selected]);var ae=Object(f.useCallback)((function(){Promise.resolve().then((function(){e.onChange&&e.onChange()}))}),[e]),oe=Object(f.useCallback)((function(){p.f.getAllGroupTree().then((function(e){e.success&&A(e.nodeList),ie(e.nodeList[0].id)}))}),[]),re=Object(f.useCallback)((function(){p.f.getAllGroups().then((function(e){return M(e)}))}),[]);Object(f.useEffect)((function(){re()}),[re]),Object(f.useImperativeHandle)(t,(function(){return{getSelected:function(){return G},getDevicesAndGroupIds:function(){var e=[],t=[];return null===G||void 0===G||G.forEach((function(n){n.type===c.DEVICE?e.push(n.id):t.push(n.id)})),{deviceIdList:e,deviceGroupIdList:t}}}})),Object(f.useEffect)((function(){Y?p.f.searchGroups({textSearch:Y}).then((function(e){A(e)})):oe()}),[Y,oe]);var le,se=V===c.DEVICE,de=function(e){B(e)},ue=Object(f.useCallback)((function(e){return G.some((function(t){return t.id===e}))}),[G]),be=Object(f.useCallback)((function(e){ue(e.id)?F(G.filter((function(t){return t.id!==e.id}))):F([].concat(Object(i.a)(G),[{name:e.name||e.friendlyName,id:e.id,type:V}])),ae()}),[ue,ae,G,V]),je=Object(f.useCallback)((function(e){var t="ic_add2",n=null,c="common.add";return ue(e.id)&&(t="ic_failed",n="red",c="common.remove"),Object(I.jsxs)(r.a,{onClick:function(){return be(e)},className:"flex-start pointer",sx:{flexWrap:"nowrap"},children:[Object(I.jsx)(v.a,{primary:!0,color:n,icon:t}),Object(I.jsx)(l.a,{sx:{whiteSpace:"nowrap"},children:Object(j.b)(c)})]},0)}),[ue,be]),fe=Object(f.useCallback)((function(e){var t,c=e.level%6,i=n[c];return Object(I.jsx)(C.a,{ContentProps:{avatarColor:i,showAddButton:!1,operationComponents:[je(e)]},nodeId:e.id,label:e.name,children:null===(t=e.child)||void 0===t?void 0:t.map((function(e){return fe(e)}))},e.id)}),[n,je]),Oe=Object(f.useMemo)((function(){return[new E.a("friendlyName","file.deviceName"),new E.a("groupName","file.linkedGroup"),new E.d("operation",null,"right",130,(function(e){return je(e)}))]}),[je]);return Object(I.jsx)(f.Fragment,{children:Object(I.jsxs)(r.a,{sx:{py:1,pt:3,alignItems:"flex-start",width:1140},className:"flex",children:[Object(I.jsxs)(r.a,{sx:{width:560},children:[Object(I.jsxs)(r.a,{className:"flex-between",sx:{pl:6},children:[Object(I.jsxs)(r.a,{children:[Object(I.jsx)(m.a,{fullWidth:!0,sx:{display:se?"block":"none"},value:K.textSearch,placeholder:"device.searchDevice",onChange:function(e){Q(Object(a.a)(Object(a.a)({},K),{},{textSearch:e,page:0}))}}),Object(I.jsx)(m.a,{fullWidth:!0,sx:{display:se?"none":"block"},value:Y,placeholder:"device.searchGroup",onChange:function(e){X(e)}})]}),Object(I.jsxs)(s.a,{sx:{ml:2},variant:"contained","aria-label":"outlined primary button group",children:[Object(I.jsx)(d.a,{variant:se?"text":"contained",onClick:function(){return de(c.GROUP)},children:Object(j.b)("device.deviceGroup")}),Object(I.jsx)(d.a,{variant:se?"contained":"text",onClick:function(){return de(c.DEVICE)},children:Object(j.b)("file.device")})]})]}),Object(I.jsxs)(r.a,{sx:{px:2,mt:2,height:480,overflow:"auto",borderRight:"1px solid #eee"},children:[ce&&Object(I.jsxs)(C.b,{defaultExpanded:[ce],defaultCollapseIcon:Object(I.jsx)(v.a,{icon:"ic_arrow_down"}),defaultExpandIcon:Object(I.jsx)(v.a,{icon:"ic_arrow_right"}),sx:{flexGrow:1,overflowY:"auto",display:se?"none":""},children:[N&&(le=N,le.map((function(e){return fe(e)}))),!N.length&&Object(I.jsx)(h.a,{})]}),!ce&&Object(I.jsx)(D.a,{size:"small",title:null}),Object(I.jsx)(r.a,{sx:{display:se?"":"none",height:1},children:Object(I.jsx)(E.g,{hideBoxShadow:!0,loading:ee,rows:null===$||void 0===$?void 0:$.data,totalPages:null===$||void 0===$?void 0:$.totalPages,columns:Oe,pageSize:8,page:K.page,pageChange:function(e){Q(Object(a.a)(Object(a.a)({},K),{},{page:e}))}})})]})]}),Object(I.jsxs)(r.a,{sx:{flex:1,px:6,width:520},children:[Object(I.jsxs)(r.a,{className:"flex-between",children:[Object(I.jsx)(l.a,{children:Object(j.b)("file.selectedDevicesOrGroup")}),Object(I.jsx)(d.a,{onClick:function(){ae(),F([])},variant:"text",children:Object(j.b)("file.removeAll")})]}),Object(I.jsx)(r.a,{sx:{pt:4,height:460,overflowY:"auto"},children:Object(I.jsx)(u.a,{rowSpacing:2,container:!0,children:G.map((function(e){return Object(I.jsx)(u.a,{item:!0,xs:6,children:Object(I.jsx)(g.a,{sx:{mr:2,maxWidth:210},deleteIcon:Object(I.jsx)(b.a,{sx:{ml:1,mr:"0 !important"},children:Object(I.jsx)(v.a,{mr:0,pointer:!0,fontSize:12,icon:"ic_dialog_close"})}),onDelete:function(){return t=e.id,ae(),void F(G.filter((function(e){return e.id!==t})));var t},label:e.name})},e.id)}))})})]})]})})}));t.b=k},817:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var c=n(5),i=n(23),a=n(6),o=n(42),r=n(354),l=n(83),s=n(64),d=n(550),u=n(37),b=n(0),j=n(45),f=n(135),O=n(261),p=n(108),x=n(704),m=n(51),h=n(727),v=n(24),g=n(688),C=n(253),E=n(1);function S(e){var t=Object(b.useState)([]),n=Object(a.a)(t,2),S=n[0],w=n[1],T=Object(b.useState)(new Map([])),D=Object(a.a)(T,2),I=D[0],k=D[1],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.e.UPLOADING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3?arguments[3]:void 0;k((function(i){var a,o=c||(null===(a=i.get(e))||void 0===a?void 0:a.abortController);return i.set(e,{status:t,progress:n,abortController:o}),new Map(i)}))},N=function(t){var n=t[0],c=n.name,a=n.size,o=Object(p.a)(),r=new FormData,l=new AbortController;r.append("file",t[0]),r.append("fileType",Object(g.g)(c)),r.append("bizType",g.a.GENERATE),r.append("name",c),r.append("fileSize",a+""),x.a.uploadFile(r,(function(e){return function(e,t,n){var c=e.loaded,i=e.total,a=parseFloat((100*c/i).toFixed(2));a>=100&&(a=99),y(t,g.e.UPLOADING,a,n)}(e,o,l)}),l.signal).then((function(){y(o,g.e.SUCCESSED,100),v.c.success("file.uploadSuccessed"),e.onOk()})).catch((function(e){var t;"canceled"!==(null===e||void 0===e?void 0:e.message)?(v.c.error("file.uploadFailed"),(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.errorCode)===g.c.NAME_EXISTED?y(o,g.e.FILE_EXISTED):y(o,g.e.FAILED)):y(o,g.e.CANCELED)})),y(o,void 0,0),w([new g.f(c,a,g.e.UPLOADING,o)].concat(Object(i.a)(S)))},A=Object(b.useCallback)((function(e){var t=e.id,n=I.get(t);(null===n||void 0===n?void 0:n.abortController).abort(),y(t,g.e.CANCELED)}),[I]),_=Object(b.useCallback)((function(e){var t=I.get(e.id),n=t.status,c=t.progress;return n===g.e.UPLOADING?Object(E.jsxs)(o.a,{className:"flex-between",children:[Object(E.jsx)(h.a,{sx:{mr:1,flex:1},progress:c}),Object(E.jsx)(r.a,{size:"small",onClick:function(){return A(e)},children:Object(E.jsx)(m.a,{fontSize:16,icon:"ic_failed",mr:0})})]}):n===g.e.SUCCESSED?Object(E.jsxs)(o.a,{className:"flex-start",children:[Object(E.jsx)(m.a,{fontSize:20,color:"#4CAF50",icon:"ic_success"}),Object(E.jsx)(l.a,{sx:{ml:1},children:Object(u.b)("file.uploadSuccessed")})]}):Object(E.jsxs)(o.a,{className:"flex-start",children:[Object(E.jsx)(m.a,{fontSize:20,color:"#f44336",icon:"ic_failed"}),n===g.e.FILE_EXISTED&&Object(E.jsx)(l.a,{sx:{ml:1},children:Object(u.b)("file.nameExisted")}),n===g.e.FAILED&&Object(E.jsx)(l.a,{sx:{ml:1},children:Object(u.b)("file.uploadError")}),n===g.e.CANCELED&&Object(E.jsx)(l.a,{sx:{ml:1},children:Object(u.b)("file.uploadCanceled")})]})}),[I,A]),P=Object(b.useMemo)((function(){return[new j.a("name","file.filename",230),new j.a("size","file.fileSize",100,(function(e){return Object(v.e)(e.size)})),new j.d("status","common.status","right",250,(function(e){return Object(E.jsx)(o.a,{sx:{pl:2},children:_(e)})}))]}),[_]);return Object(E.jsx)(f.b,Object(c.a)(Object(c.a)({size:"md",title:"file.uploadFile"},e),{},{okBtnProps:null,cancelBtnProps:{text:"common.close",variant:"contained"},footerPadding:2,children:Object(E.jsxs)(o.a,{sx:{position:"relative"},children:[Object(E.jsx)(j.g,{width:700,hideBoxShadow:!0,pageSize:5,columns:P,rows:S,children:Object(E.jsxs)(o.a,{sx:{height:248,bgcolor:function(e){return Object(s.a)(e.palette.primary.main,.08)}},className:"flex flex-column",children:[Object(E.jsx)(m.a,{icon:"ic_upload_purple",primary:!0}),Object(E.jsx)(l.a,{variant:"subtitle1",sx:{mt:1,mb:3},children:Object(u.b)("file.uploadTip")}),Object(E.jsx)(O.a,{variant:"contained",onFileChange:N,children:Object(u.b)("file.uploadFile")})]})}),Object(E.jsx)(o.a,{sx:{position:"absolute",bottom:16,color:function(e){return e.palette.primary.main}},children:S.length>0?Object(E.jsx)(O.a,{sx:{ml:2},variant:"text",onFileChange:N,children:Object(u.b)("file.continueUpload")}):Object(E.jsx)(C.a,{content:"file.fileTransferTip"})}),Object(E.jsx)(d.a,{sx:{my:1,position:"absolute",bottom:-8,width:1}})]})}))}},989:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var c=n(5),i=n(6),a=n(42),o=n(37),r=n(0),l=n(43),s=n(105),d=n(45),u=n(671),b=n(679),j=n(154),f=n(93),O=n(24),p=n(153),x=n(135),m=n(704),h=n(1);function v(e){var t=e.detail||{},n=t.name,i=void 0===n?"":n,l=t.description,s=void 0===l?"":l,d=Object(j.a)({initialValues:{name:i,description:s},validationSchema:f.b({name:f.c().required(Object(o.b)("file.filenameRequired"))}),onSubmit:function(){}});Object(r.useEffect)((function(){var t=e.detail||{},n=t.name,c=void 0===n?"":n,i=t.description,a=void 0===i?"":i;d.setValues({name:c,description:a})}),[e.detail]);return Object(h.jsx)(x.b,Object(c.a)(Object(c.a)({},e),{},{onOk:function(){return new Promise((function(t,n){d.validateForm().then((function(c){c.name?(O.c.error(c.name),n()):m.a.editFile(d.values,e.detail.id.id).then((function(n){e.onOk(),O.c.success("common.editSuccessed"),t()})).catch((function(){return n()}))})).catch((function(){return n()}))}))},title:"common.edit",children:Object(h.jsx)("form",{action:"",children:Object(h.jsxs)(a.a,{sx:{px:2},children:[Object(h.jsx)(p.a,Object(c.a)({width:300,error:Boolean(d.touched.name&&d.errors.name),label:"file.filename"},d.getFieldProps("name"))),Object(h.jsx)(a.a,{className:"flex-start",sx:{mt:5,mb:3},children:Object(h.jsx)(p.a,Object(c.a)(Object(c.a)({name:"description"},d.getFieldProps("description")),{},{rows:2,multiline:!0,width:450,maxRows:5,label:"common.description"}))})]})})}))}var g,C=n(817),E=n(980),S=n(1e3),w=n(793),T=n(83),D=n(355),I=n(250),k=n(78),y=n(682),N=n(253),A=n(251),_=n(728),P=["file.selectDevice","file.startTransfer"];!function(e){e[e.DEVICE=0]="DEVICE",e[e.GROUP=1]="GROUP"}(g||(g={}));var G,F=Object(r.memo)((function(e){var t=e.detail,n=e.onClose,l=Object(r.useState)(0),s=Object(i.a)(l,2),d=s[0],u=s[1],b=Object(r.useState)([]),j=Object(i.a)(b,2),f=j[0],p=j[1],m=Object(r.useState)([]),v=Object(i.a)(m,2),g=(v[0],v[1]),C=Object(r.useState)("/storage/emulated/0"),G=Object(i.a)(C,2),F=G[0],L=G[1],R=Object(r.useRef)(),M=Object(r.useCallback)((function(){I.f.getAllGroups().then((function(e){return g(e)}))}),[]);Object(r.useEffect)((function(){M()}),[M]);var z=Object(r.useCallback)((function(){u(0),L("/storage/emulated/0"),p([])}),[]),U=Object(r.useCallback)((function(){n(),z()}),[n,z]);return Object(h.jsx)(x.b,Object(c.a)(Object(c.a)({size:"lg",title:"file.transferFile"},e),{},{onOk:function(){var e=R.current.getSelected();if(p(e),e.length)if(0!==d){if(F){var n=R.current.getDevicesAndGroupIds(),i=n.deviceIdList,a=n.deviceGroupIdList,o=new I.a(a,i,new k.s("transferFile",new k.t("devices-and-groups",null,null),k.i.PUSH_CONTENT,null===t||void 0===t?void 0:t.name),Object(c.a)(Object(c.a)({},t),{},{dirPath:F})),r=I.f.createTask(o);return r.then((function(e){null!==e&&void 0!==e&&e.success&&O.c.success("device.sendCmdSuccessed")})),r}O.c.error("file.pathValueRequired")}else u(1);else O.c.error("file.groupOrDeviceRequired")},onClose:U,children:Object(h.jsxs)(a.a,{sx:{height:620},children:[Object(h.jsx)(a.a,{className:"flex",children:Object(h.jsx)(E.a,{sx:{width:360},nonLinear:!0,activeStep:d,children:P.map((function(e,t){return Object(h.jsx)(S.a,{completed:d>=t,children:Object(h.jsx)(w.a,{color:"inherit",onClick:(n=t,function(){if(1===n){var e=R.current.getSelected();p(e)}u(n)}),children:Object(o.b)(e)})},e);var n}))})}),Object(h.jsx)(a.a,{sx:{display:0===d?"flex":"none",py:1,pt:3,alignItems:"flex-start",width:1140},className:"flex",children:Object(h.jsx)(_.b,{selected:f,ref:R})}),Object(h.jsxs)(a.a,{sx:{display:0===d?"none":"flex",py:1,pt:5,alignItems:"flex-start",width:1140,height:"calc(100% - 52px)"},className:"flex",children:[Object(h.jsxs)(a.a,{sx:{width:.5,borderRight:"1px solid #eee",height:1,px:4,py:2,boxSizing:"border-box"},children:[Object(h.jsx)(T.a,{sx:{my:4},children:Object(o.b)("file.fileLocation")}),Object(h.jsx)(T.a,{sx:{mb:6},children:Object(o.b)("file.fileLocationDesc")}),Object(h.jsx)(T.a,{sx:{mb:1},children:Object(o.b)("file.path")}),Object(h.jsx)(D.a,{sx:{mb:6},size:"small",fullWidth:!0,value:F,onChange:function(e){L(e.target.value)},placeholder:Object(o.b)("file.pathPlacrholder")}),Object(h.jsx)(N.a,{content:"file.fileTransferTip"})]}),Object(h.jsxs)(a.a,{sx:{width:.5,px:4,py:2,boxSizing:"border-box"},children:[Object(h.jsx)(a.a,{className:"flex-start",sx:{my:4,flexWrap:"nowrap"},children:Object(h.jsx)(a.a,{sx:{width:150},children:Object(o.b)("file.transferDetail")})}),Object(h.jsxs)(a.a,{className:"flex-start",sx:{my:4,flexWrap:"nowrap"},children:[Object(h.jsx)(a.a,{sx:{width:150},children:Object(o.b)("file.filename")}),Object(h.jsx)(T.a,{color:A.b,children:null===t||void 0===t?void 0:t.name})]}),Object(h.jsxs)(a.a,{className:"flex-start",sx:{my:4,flexWrap:"nowrap"},children:[Object(h.jsx)(a.a,{sx:{width:150},children:Object(o.b)("file.fileSize")}),Object(h.jsx)(T.a,{color:A.b,children:Object(O.e)(null===t||void 0===t?void 0:t.fileSize)})]}),Object(h.jsxs)(a.a,{className:"flex-start",sx:{my:4,flexWrap:"nowrap"},children:[Object(h.jsx)(a.a,{sx:{width:150},children:Object(o.b)("file.transferPath")}),Object(h.jsx)(T.a,{color:A.b,children:F})]}),Object(h.jsxs)(a.a,{className:"flex-start",sx:{my:4,flexWrap:"nowrap",alignItems:"flex-start"},children:[Object(h.jsx)(a.a,{sx:{minWidth:150},children:Object(o.b)("file.selectedDevicesOrGroup")}),Object(h.jsx)(a.a,{sx:{},children:f.map((function(e){return Object(h.jsx)(y.a,{sx:{mr:1,mb:1},label:e.name},e.id)}))})]})]})]})]})}))})),L=n(36),R=n(688),M=n(174),z=n(104);!function(e){e[e.EDIT=0]="EDIT",e[e.PUSH_TO_DEVICE=1]="PUSH_TO_DEVICE",e[e.DOWNLOAD=2]="DOWNLOAD",e[e.DELETE=3]="DELETE"}(G||(G={}));var U=new Map([[R.b.IMAGE,"#3F51B5"],[R.b.DOCUMENT,"#2196F3"],[R.b.AUDIO,"#4CAF50"],[R.b.VIDEO,"#ED6C02"],[R.b.OTHER,"#F50057"]]);function V(){var e=Object(l.c)((function(e){return e.config})).height,t=Object(z.a)(),n=Object(r.useState)(!1),j=Object(i.a)(n,2),f=j[0],p=j[1],x=Object(r.useState)(),g=Object(i.a)(x,2),E=g[0],S=g[1],w=Object(r.useState)(!1),T=Object(i.a)(w,2),D=T[0],I=T[1],k=Object(r.useState)(!1),y=Object(i.a)(k,2),N=y[0],A=y[1],_=Object(r.useState)(!0),P=Object(i.a)(_,2),V=P[0],B=P[1],W=Object(r.useState)(u.a.BY_CREATED_TIME),H=Object(i.a)(W,2),Y=H[0],X=H[1],q=Object(r.useState)(new R.d(0,10,void 0,u.a.BY_CREATED_TIME)),J=Object(i.a)(q,2),K=J[0],Q=J[1],Z=Object(r.useState)([]),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)(),ce=Object(i.a)(ne,2),ie=ce[0],ae=ce[1],oe=Object(r.useCallback)((function(){B(!0),m.a.getFileList(K).then((function(e){ae(e),B(!1)})).catch((function(){B(!1)}))}),[K]);Object(r.useEffect)((function(){oe()}),[oe]);var re=Object(r.useCallback)((function(){te([]),Q(Object(c.a)(Object(c.a)({},K),{},{page:0}))}),[K]),le=Object(r.useCallback)((function(e){Object(O.a)({title:Object(o.b)("file.deleteSingleTitle",{name:e.name}),content:"common.deleteContent",okBtnColor:"error",okText:"common.delete",onOk:function(){var t=m.a.deleteFile(e.id.id);return t.then((function(){O.c.success("common.deleteSuccessed"),re()})),t}})}),[re]),se=Object(r.useCallback)((function(e,t){switch(S(t),e){case G.DELETE:le(t);break;case G.EDIT:I(!0);break;case G.PUSH_TO_DEVICE:A(!0);break;case G.DOWNLOAD:Object(O.l)(t.filePathHttps)}}),[le]),de=Object(r.useCallback)((function(e){var t={name:e.name,description:e.description},n=m.a.editFile(t,e.id.id);return n.then((function(){Q(Object(c.a)(Object(c.a)({},K),{},{page:0}))})),n}),[K]),ue=Object(r.useMemo)((function(){var e=[new L.e(G.EDIT,"common.edit","ic_edit"),new L.e(G.PUSH_TO_DEVICE,"file.pushToDevice","ic_send"),new L.e(G.DOWNLOAD,"file.download","ic_download"),new L.e(G.DELETE,"file.deleteFile","ic_delete")];return t||(e=[e[2]]),[new d.f("left","name","file.filename"),new d.a("fileSize","file.fileSize",120,(function(e){return Object(h.jsx)(a.a,{children:Object(O.e)(e.fileSize)})})),new d.a("fileFormat","file.fileFormat",120),new d.d("fileType","file.fileType",null,180,(function(e){return Object(h.jsx)(a.a,{sx:{display:"flex",pl:2},children:Object(h.jsx)(b.a,{size:"small",sx:{fontSize:14},color:U.get(e.fileType),label:Object(o.b)("file.fileTypeEnum."+e.fileType)})})})),new d.c(de,150),new d.d("operation",null,"right",80,(function(t){return Object(h.jsx)(s.a,{menus:e,onMenuClick:function(e){return se(e,t)}})}),!0)]}),[se,de,t]),be=ee.length<=0;return Object(h.jsxs)(a.a,{sx:{height:1},className:"content-container",children:[Object(h.jsx)(u.b,{sortProp:Y,onSortChange:function(e){X(e),e!==K.sortProperty&&Q(Object(c.a)(Object(c.a)({},K),{},{sortProperty:e,page:0}))},textSearch:K.textSearch,onSearchChange:function(e){Q(Object(c.a)(Object(c.a)({},K),{},{page:0,textSearch:e}))},deleteDisabled:be,onAdd:function(){p(!0)},onDelete:function(){Object(O.a)({title:Object(o.b)("file.multiDeleteTitle",{count:ee.length}),content:"common.deleteContent",okBtnColor:"error",okText:"common.delete",onOk:function(){var e=m.a.multiDeleteFiles(ee.map((function(e){return e.id.id})));return e.then((function(){O.c.success("common.deleteSuccessed"),re()})),e}})},deleteTitle:"file.deleteFile",addTitle:"file.uploadFile"}),Object(h.jsx)(a.a,{sx:{height:"calc(100% - 56px)",position:"relative"},children:Object(h.jsx)(d.g,{loading:V,rows:null===ie||void 0===ie?void 0:ie.data,totalPages:null===ie||void 0===ie?void 0:ie.totalPages,pageSize:10,page:K.page,pageChange:function(e){Q(Object(c.a)(Object(c.a)({},K),{},{page:e}))},columns:ue,showSelect:t,selected:ee,onSelectChange:te,height:e-245,children:Object(h.jsx)(M.a,{emptyTitle:"file.emptyTitle",type:"file"})})}),Object(h.jsx)(C.a,{open:f,onOk:re,onClose:function(){p(!1)}}),Object(h.jsx)(v,{detail:E,open:D,onClose:function(){return I(!1)},onOk:function(){Q(Object(c.a)({},K))}}),Object(h.jsx)(F,{open:N,onOk:function(){},onClose:function(){A(!1)},detail:E})]})}}}]);