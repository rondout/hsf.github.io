(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[24],{671:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return N}));var n,i=a(42),o=a(83),c=a(134),r=a(354),l=a(674),s=a.n(l),u=a(673),d=a.n(u),p=a(43),b=a(36),j=a(47),O=a(173),v=a(155),f=a(37),h=a(672),g=a(106),m=a(251),x=a(104),S=a(0),E=a(1);!function(e){e.BY_TITLE="name",e.BY_CREATED_TIME="createdTime"}(n||(n={}));var C=[new b.e(n.BY_TITLE,"regTemp.sortBy.name"),new b.e(n.BY_CREATED_TIME,"regTemp.sortBy.createdTime")];function N(e){var t=e.sortProp,a=e.onSortChange,n=e.textSearch,l=e.onSearchChange,u=e.deleteDisabled,b=e.deleteTitle,N=e.addTitle,R=e.selectTitle,I=e.showSelectBtn,P=void 0!==I&&I,w=e.selectMode,T=void 0!==w&&w,A=e.authControl,y=void 0===A?"GENERAL":A,L=e.menus||C,D=Object(x.b)(),k=Object(x.a)(),M="GENERAL"===y?k:!D,_=Object(p.c)(j.a),B={add:!P||!T,delete:(!P||T)&&e.onDelete,select:P&&!T,selectAll:P&&T&&e.viewMode===h.a.CARD,cancel:P&&T};return Object(E.jsxs)(i.a,{sx:{mb:2,display:"flex",justifyContent:"space-between",height:36},children:[T&&Object(E.jsxs)(i.a,{className:"flex-start",children:[Object(E.jsx)(o.a,{fontSize:16,color:m.c,children:e.selectedCount}),Object(E.jsx)(o.a,{sx:{ml:1},children:Object(f.b)("common.selected")})]}),!T&&Object(E.jsxs)(i.a,{className:"flex-start",children:[void 0!==e.viewMode&&Object(E.jsx)(h.b,{items:h.c,mode:e.viewMode,onChange:e.onViewModeChange}),_?null:Object(E.jsx)(v.a,{title:"regTemp.sortBy."+t,selected:t,menus:L,onMenuClick:a}),Object(E.jsx)(O.a,{sx:{ml:_?0:2,bgcolor:"#fff"},value:n,onChange:l})]}),M&&Object(E.jsx)(S.Fragment,{children:_?Object(E.jsxs)(i.a,{children:[Object(E.jsx)(r.a,{onClick:e.onAdd,size:"medium",edge:"start",color:"primary","aria-label":"open drawer",sx:{mr:1},children:Object(E.jsx)(d.a,{})}),Object(E.jsx)(r.a,{onClick:e.onDelete,disabled:u,size:"medium",edge:"start",color:"error","aria-label":"open drawer",children:Object(E.jsx)(s.a,{})})]}):Object(E.jsxs)(i.a,{children:[B.add&&Object(E.jsx)(c.a,{onClick:e.onAdd,variant:"contained",children:Object(f.b)(N)}),B.cancel&&Object(E.jsx)(c.a,{onClick:function(){e.selectAll(!1),e.setSelectMode(!1)},variant:"outlined",children:Object(f.b)("common.cancel")}),B.selectAll&&Object(E.jsx)(g.a,{sx:{ml:2},onClick:function(){e.selectAll&&e.selectAll(!0)},children:Object(f.b)("common.selectAll")}),B.select&&Object(E.jsx)(g.a,{sx:{ml:2},onClick:function(){var t;void 0!==t?e.setSelectMode(t):e.setSelectMode(!T)},children:Object(f.b)(R)}),B.delete&&Object(E.jsx)(c.a,{onClick:e.onDelete,disabled:u,sx:{ml:2},variant:void 0!==e.viewMode?"contained":"outlined",children:Object(f.b)(b)})]})})]})}},672:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return O}));var n,i=a(5),o=a(7),c=a(134),r=a(64),l=a(689),s=a(995),u=a(171),d=a(51),p=a(1),b=Object(o.a)(c.a)((function(e){var t=e.theme;return{height:36,borderColor:t.palette.action.disabled,"&:hover":{borderColor:t.palette.action.disabled},"&.checked":{backgroundColor:Object(r.a)(t.palette.primary.main,.32)},"&.checked:hover":{backgroundColor:Object(r.a)(t.palette.primary.main,.32)}}}));!function(e){e[e.LIST=0]="LIST",e[e.CARD=1]="CARD"}(n||(n={}));var j=[{icon:"ic_viewmodule",value:n.CARD,label:"common.cardView"},{icon:"ic_viewheadline",value:n.LIST,label:"common.listView"}];function O(e){var t=e.mode,a=e.onChange,n=e.items,o=void 0===n?[]:n,c=e.sx,r=void 0===c?{}:c,j=Object(u.a)().t;return Object(p.jsx)(l.a,{sx:Object(i.a)({mr:2},r),children:o.map((function(e){return Object(p.jsx)(s.a,{title:j(e.label),children:Object(p.jsx)(b,{size:"small",onClick:function(){var n;(n=e.value)!==t&&a(n)},className:t===e.value?"checked":"",sx:{px:1},children:Object(p.jsx)(d.a,{color:"rgba(0, 0, 0, 0.54)",mr:0,icon:e.icon})})},e.label)}))})}},673:function(e,t,a){"use strict";var n=a(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(255)),o=a(1),c=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=c},674:function(e,t,a){"use strict";var n=a(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(255)),o=a(1),c=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},679:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),i=a(42),o=a(64),c=a(83),r=a(1);function l(e){var t=e.size,a=void 0===t?"medium":t;return Object(r.jsx)(i.a,{sx:Object(n.a)({userSelect:"none",borderRadius:1.5,height:"small"===a?24:32,fontSize:14,display:"inline-flex",alignItems:"center",lineHeight:"small"===a?"24px":"32px",whiteSpace:"nowrap",px:"small"===a?1:1.5,bgcolor:Object(o.a)(e.color,.1)},e.sx),children:Object(r.jsx)("span",{className:"custom-chip-inner",style:{whiteSpace:"nowrap",color:e.color},children:Object(r.jsx)(c.a,{className:"line-clamp",style:e.innerStyle,children:e.label})})})}},689:function(e,t,a){"use strict";var n=a(3),i=a(4),o=a(2),c=a(0),r=a(8),l=a(152),s=a(64),u=a(10),d=a(7),p=a(16),b=a(92),j=a(103);function O(e){return Object(b.a)("MuiButtonGroup",e)}var v=Object(j.a)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),f=a(257),h=a(1),g=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],m=Object(d.a)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[Object(n.a)({},"& .".concat(v.grouped),t.grouped),Object(n.a)({},"& .".concat(v.grouped),t["grouped".concat(Object(u.a)(a.orientation))]),Object(n.a)({},"& .".concat(v.grouped),t["grouped".concat(Object(u.a)(a.variant))]),Object(n.a)({},"& .".concat(v.grouped),t["grouped".concat(Object(u.a)(a.variant)).concat(Object(u.a)(a.orientation))]),Object(n.a)({},"& .".concat(v.grouped),t["grouped".concat(Object(u.a)(a.variant)).concat(Object(u.a)(a.color))]),t.root,t[a.variant],!0===a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth,"vertical"===a.orientation&&t.vertical]}})((function(e){var t=e.theme,a=e.ownerState;return Object(o.a)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[2]},a.disableElevation&&{boxShadow:"none"},a.fullWidth&&{width:"100%"},"vertical"===a.orientation&&{flexDirection:"column"},Object(n.a)({},"& .".concat(v.grouped),Object(o.a)({minWidth:40,"&:not(:first-of-type)":Object(o.a)({},"horizontal"===a.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===a.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===a.variant&&"horizontal"===a.orientation&&{marginLeft:-1},"outlined"===a.variant&&"vertical"===a.orientation&&{marginTop:-1}),"&:not(:last-of-type)":Object(o.a)({},"horizontal"===a.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===a.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===a.variant&&"horizontal"===a.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===a.variant&&"vertical"===a.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===a.variant&&"inherit"!==a.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / 0.5)"):Object(s.a)(t.palette[a.color].main,.5)},"outlined"===a.variant&&"horizontal"===a.orientation&&{borderRightColor:"transparent"},"outlined"===a.variant&&"vertical"===a.orientation&&{borderBottomColor:"transparent"},"contained"===a.variant&&"horizontal"===a.orientation&&Object(n.a)({borderRight:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(v.disabled),{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===a.variant&&"vertical"===a.orientation&&Object(n.a)({borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(v.disabled),{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===a.variant&&"inherit"!==a.color&&{borderColor:(t.vars||t).palette[a.color].dark},{"&:hover":Object(o.a)({},"outlined"===a.variant&&"horizontal"===a.orientation&&{borderRightColor:"currentColor"},"outlined"===a.variant&&"vertical"===a.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":Object(o.a)({},"contained"===a.variant&&{boxShadow:"none"})},"contained"===a.variant&&{boxShadow:"none"})))})),x=c.forwardRef((function(e,t){var a=Object(p.a)({props:e,name:"MuiButtonGroup"}),n=a.children,s=a.className,d=a.color,b=void 0===d?"primary":d,j=a.component,v=void 0===j?"div":j,x=a.disabled,S=void 0!==x&&x,E=a.disableElevation,C=void 0!==E&&E,N=a.disableFocusRipple,R=void 0!==N&&N,I=a.disableRipple,P=void 0!==I&&I,w=a.fullWidth,T=void 0!==w&&w,A=a.orientation,y=void 0===A?"horizontal":A,L=a.size,D=void 0===L?"medium":L,k=a.variant,M=void 0===k?"outlined":k,_=Object(i.a)(a,g),B=Object(o.a)({},a,{color:b,component:v,disabled:S,disableElevation:C,disableFocusRipple:R,disableRipple:P,fullWidth:T,orientation:y,size:D,variant:M}),z=function(e){var t=e.classes,a=e.color,n=e.disabled,i=e.disableElevation,o=e.fullWidth,c=e.orientation,r=e.variant,s={root:["root",r,"vertical"===c&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(Object(u.a)(c)),"grouped".concat(Object(u.a)(r)),"grouped".concat(Object(u.a)(r)).concat(Object(u.a)(c)),"grouped".concat(Object(u.a)(r)).concat(Object(u.a)(a)),n&&"disabled"]};return Object(l.a)(s,O,t)}(B),F=c.useMemo((function(){return{className:z.grouped,color:b,disabled:S,disableElevation:C,disableFocusRipple:R,disableRipple:P,fullWidth:T,size:D,variant:M}}),[b,S,C,R,P,T,D,M,z.grouped]);return Object(h.jsx)(m,Object(o.a)({as:v,role:"group",className:Object(r.a)(z.root,s),ref:t,ownerState:B},_,{children:Object(h.jsx)(f.a.Provider,{value:F,children:n})}))}));t.a=x},711:function(e,t,a){"use strict";var n=a(6),i=a(4),o=a(2),c=a(0),r=a(8),l=a(152),s=a(7),u=a(16),d=a(32),p=a(1),b=Object(d.a)(Object(p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),j=a(92),O=a(103);function v(e){return Object(j.a)("MuiAvatar",e)}Object(O.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var f=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],h=Object(s.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,a=e.ownerState;return Object(o.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===a.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===a.variant&&{borderRadius:0},a.colorDefault&&Object(o.a)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),g=Object(s.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),m=Object(s.a)(b,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var x=c.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiAvatar"}),s=a.alt,d=a.children,b=a.className,j=a.component,O=void 0===j?"div":j,x=a.imgProps,S=a.sizes,E=a.src,C=a.srcSet,N=a.variant,R=void 0===N?"circular":N,I=Object(i.a)(a,f),P=null,w=function(e){var t=e.crossOrigin,a=e.referrerPolicy,i=e.src,o=e.srcSet,r=c.useState(!1),l=Object(n.a)(r,2),s=l[0],u=l[1];return c.useEffect((function(){if(i||o){u(!1);var e=!0,n=new Image;return n.onload=function(){e&&u("loaded")},n.onerror=function(){e&&u("error")},n.crossOrigin=t,n.referrerPolicy=a,n.src=i,o&&(n.srcset=o),function(){e=!1}}}),[t,a,i,o]),s}(Object(o.a)({},x,{src:E,srcSet:C})),T=E||C,A=T&&"error"!==w,y=Object(o.a)({},a,{colorDefault:!A,component:O,variant:R}),L=function(e){var t=e.classes,a={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(l.a)(a,v,t)}(y);return P=A?Object(p.jsx)(g,Object(o.a)({alt:s,src:E,srcSet:C,sizes:S,ownerState:y,className:L.img},x)):null!=d?d:T&&s?s[0]:Object(p.jsx)(m,{className:L.fallback}),Object(p.jsx)(h,Object(o.a)({as:O,ownerState:y,className:Object(r.a)(L.root,b),ref:t},I,{children:P}))}));t.a=x},721:function(e,t,a){"use strict";var n;a.d(t,"e",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return u})),function(e){e[e.OPERATIONS=0]="OPERATIONS",e[e.TARGETS=1]="TARGETS"}(n||(n={}));var i,o,c,r=[{tab:n.OPERATIONS,label:"pipe.stageConfig.OPERATIONS"},{tab:n.TARGETS,label:"pipe.stageConfig.TARGETS"}];!function(e){e[e.APPLICATION=0]="APPLICATION"}(i||(i={})),function(e){e[e.RUNS=0]="RUNS",e[e.PIPELINES=1]="PIPELINES"}(o||(o={})),function(e){e.PENDDING="01",e.PROCESSING="02",e.CANCELLED="03",e.AWAITING_PROMOTION="04",e.FAILED="05",e.SUCCESSFUL="06"}(c||(c={}));var l=new Map([[c.PROCESSING,{color:"#3F51B5",label:"pipe.logStatus.PROCESSING"}],[c.SUCCESSFUL,{color:"#4CAF50",label:"pipe.logStatus.SUCCESSFUL"}],[c.PENDDING,{color:"#0000008A",label:"pipe.logStatus.PENDDING"}],[c.AWAITING_PROMOTION,{color:"#0000008A",label:"pipe.logStatus.AWAITING_PROMOTION"}],[c.FAILED,{color:"#F44336",label:"pipe.logStatus.FAILED"}],[c.CANCELLED,{color:"#F44336",label:"pipe.logStatus.CANCELLED"}],[c.CANCELLED,{color:"#F44336",label:"pipe.logStatus.CANCELLED"}]]),s=[c.AWAITING_PROMOTION,c.PENDDING,c.PROCESSING],u=function(e){return[c.SUCCESSFUL,c.CANCELLED,c.FAILED].includes(e)}},729:function(e,t,a){"use strict";var n=a(13),i=a(14),o=a(18),c=a(30),r=a(31),l=a(17),s=a(12),u=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e,n,c,r,u,d,p,b,j,O,v,f,h,g,m,x,S,E;Object(i.a)(this,a);for(var C=arguments.length,N=new Array(C),R=0;R<C;R++)N[R]=arguments[R];return(E=t.call.apply(t,[this].concat(N))).createPipeline=function(t){return Object(l.a)((e=Object(o.a)(E),Object(s.a)(a.prototype)),"post",e).call(e,"/api/pipeline/create",t)},E.savePipeline=function(e){return Object(l.a)((n=Object(o.a)(E),Object(s.a)(a.prototype)),"put",n).call(n,"/api/pipeline",e)},E.deletePipeline=function(e){return Object(l.a)((c=Object(o.a)(E),Object(s.a)(a.prototype)),"delete",c).call(c,"/api/pipeline/".concat(e," "))},E.getPipelines=function(e){return Object(l.a)((r=Object(o.a)(E),Object(s.a)(a.prototype)),"get",r).call(r,"/api/pipelines",{params:e})},E.getPipelineDetail=function(e){return Object(l.a)((u=Object(o.a)(E),Object(s.a)(a.prototype)),"get",u).call(u,"/api/pipeline/".concat(e))},E.createPipelineStage=function(e){return Object(l.a)((d=Object(o.a)(E),Object(s.a)(a.prototype)),"post",d).call(d,"/api/pipelineStage/create",e)},E.savePipelineStage=function(e){return Object(l.a)((p=Object(o.a)(E),Object(s.a)(a.prototype)),"put",p).call(p,"/api/pipelineStage",e)},E.deletePipelineStage=function(e){return Object(l.a)((b=Object(o.a)(E),Object(s.a)(a.prototype)),"delete",b).call(b,"/api/pipelineStage/".concat(e))},E.runPipeline=function(e){return Object(l.a)((j=Object(o.a)(E),Object(s.a)(a.prototype)),"post",j).call(j,"/api/pipeline/run",e)},E.getPipelineRunLogs=function(e){return Object(l.a)((O=Object(o.a)(E),Object(s.a)(a.prototype)),"get",O).call(O,"/api/pipelineRunLogs",{params:e})},E.getRunsByPipelineId=function(e){return Object(l.a)((v=Object(o.a)(E),Object(s.a)(a.prototype)),"get",v).call(v,"/api/pipelineRunLog/history",{params:e})},E.cancelPipeRun=function(e){return Object(l.a)((f=Object(o.a)(E),Object(s.a)(a.prototype)),"post",f).call(f,"/api/pipeline/cancelPipeline",e)},E.getRunningRunByPipelineId=function(e){return Object(l.a)((h=Object(o.a)(E),Object(s.a)(a.prototype)),"get",h).call(h,"/api/pipeline/running/".concat(e))},E.getPipelineRunDetailByRunId=function(e){return Object(l.a)((g=Object(o.a)(E),Object(s.a)(a.prototype)),"get",g).call(g,"/api/pipelineRunLog/".concat(e))},E.getPipelineRunActions=function(e){return Object(l.a)((m=Object(o.a)(E),Object(s.a)(a.prototype)),"get",m).call(m,"/api/pipelineStageRunLog/actions",{params:e})},E.promoteToNextStage=function(e){return Object(l.a)((x=Object(o.a)(E),Object(s.a)(a.prototype)),"post",x).call(x,"/api/pipeline/promote",e)},E.cancelStageRun=function(e){return Object(l.a)((S=Object(o.a)(E),Object(s.a)(a.prototype)),"post",S).call(S,"/api/pipeline/cancelPipelineStage",e)},E}return Object(n.a)(a)}(a(107).a),d=new u;t.a=d},789:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(6),i=a(0);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(i.useState)(e),a=Object(n.a)(t,2),o=a[0],c=a[1],r=function(e){c(e)},l=[o,r];return l}},992:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var n,i=a(6),o=a(249),c=a(42),r=a(968),l=a(997),s=a(71),u=a.n(s),d=a(0),p=a(171),b=a(26),j=a(5),O=a(711),v=a(83),f=a(550),h=a(729),g=a(104),m=a(789),x=a(36),S=a(721),E=a(138),C=a(34),N=a(24),R=a(105),I=a(173),P=a(45),w=a(671),T=a(679),A=a(176),y=a(1);!function(e){e[e.VIEW_PIPELINE_DETAIL=0]="VIEW_PIPELINE_DETAIL",e[e.CONFIG_NEW_RUN=1]="CONFIG_NEW_RUN",e[e.CANCEL_RUN=2]="CANCEL_RUN"}(n||(n={}));var L=function(e){var t=[new x.e(n.VIEW_PIPELINE_DETAIL,"pipe.viewPipelineDetail")];return S.g.includes(e.status)?t.push(new x.e(n.CANCEL_RUN,"common.cancel")):t.push(new x.e(n.CONFIG_NEW_RUN,"pipe.configNewRun")),t};function D(){var e=Object(p.a)().t,t=Object(b.m)(),a=Object(m.a)(),o=Object(i.a)(a,2),r=o[0],l=o[1],s=Object(d.useState)(!1),u=Object(i.a)(s,2),x=u[0],D=u[1],k=Object(d.useState)(new E.d(0,10,r,w.a.BY_CREATED_TIME)),M=Object(i.a)(k,2),_=M[0],B=M[1],z=Object(d.useState)(),F=Object(i.a)(z,2),G=F[0],W=F[1],U=Object(g.b)(),V=Object(d.useCallback)((function(){D(!0),h.a.getPipelineRunLogs(_).then((function(e){D(!1),W(e)})).catch((function(e){D(!1),Object(N.p)(e)}))}),[_]);Object(d.useEffect)((function(){_.textSearch!==r&&B((function(e){return Object(j.a)(Object(j.a)({},e),{},{textSearch:r})}))}),[r,_.textSearch]),Object(d.useEffect)((function(){V()}),[V]);var H=Object(d.useCallback)((function(e){B((function(t){return Object(j.a)(Object(j.a)({},t),{},{page:Object(N.q)(e)?t.page:e})}))}),[]),Y=Object(d.useCallback)((function(e,a){switch(e){case n.VIEW_PIPELINE_DETAIL:t("/pipelines/view/"+a.pipelineId);break;case n.CONFIG_NEW_RUN:t("/pipelines/edit/"+a.pipelineId);break;case n.CANCEL_RUN:h.a.cancelPipeRun({pipelineRunLogId:a.id}).then((function(){H()})).catch((function(e){var t;(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)&&N.c.error(e.data.message)}))}}),[t,H]),q=Object(d.useCallback)((function(e,a){t("/pipelines/view/".concat(a,"/runs/").concat(e))}),[t]),J=Object(d.useMemo)((function(){var t=[new P.f("left","runNo","pipe.runNo",null,(function(e){return Object(y.jsx)(A.a,{showUnderline:!1,onClick:function(){return q(e.id,e.pipelineId)},children:e.runNo})})),new P.d("pipelineName","pipe.pipelineName",void 0,null,(function(e){return Object(y.jsx)(A.a,{sx:{pl:2},showUnderline:!1,onClick:function(){return Y(n.VIEW_PIPELINE_DETAIL,e)},children:e.pipelineName})})),new P.d("status","common.status",void 0,null,(function(t){var a=S.c.get(t.status);return Object(y.jsx)(c.a,{sx:{pl:1},children:Object(y.jsx)(T.a,{size:"small",sx:{ml:1},innerStyle:{fontSize:12},color:a.color,label:e(a.label)})})})),new P.d("user","pipe.initiatedBy",void 0,void 0,(function(e){var t,a,n,i;return Object(y.jsxs)(c.a,{sx:{pl:2},className:"flex-start flex-nowrap",children:[Object(y.jsx)(O.a,{sx:{width:32,height:32},src:C.n.get(null===(t=e.user)||void 0===t?void 0:t.avatar),children:null===(a=e.user)||void 0===a?void 0:a.firstName}),Object(y.jsx)(v.a,{sx:{ml:1},children:(null===(n=e.user)||void 0===n?void 0:n.firstName)+" "+(null===(i=e.user)||void 0===i?void 0:i.lastName)})]})})),new P.b("startTime","pipe.startRunTime",null),new P.b("endTime","pipe.endRunTime",null)];return U||t.push(new P.d("operation","common.operation","right",80,(function(e){return Object(y.jsx)(c.a,{children:Object(y.jsx)(R.a,{menus:L(e),onMenuClick:function(t){return Y(t,e)}})})}))),t}),[Y,U,q,e]);return Object(y.jsxs)(c.a,{sx:{height:1,minHeight:300},children:[Object(y.jsx)(I.a,{value:r,onChange:l}),Object(y.jsx)(f.a,{sx:{my:2}}),Object(y.jsxs)(c.a,{className:"flex-start",children:[Object(y.jsx)(v.a,{sx:{mt:1,mr:3},children:e("pipe.allPipeRuns")}),Object(y.jsx)(v.a,{variant:"subtitle2",sx:{mt:1},children:G&&e("pipe.pipelineRunCounts",{count:null===G||void 0===G?void 0:G.totalElements})})]}),Object(y.jsx)(c.a,{sx:{height:"calc(100% - 84px)"},children:Object(y.jsx)(P.g,{hideBoxShadow:!0,loading:x,rows:null===G||void 0===G?void 0:G.content,columns:J,pageSize:10,page:_.page,totalPages:null===G||void 0===G?void 0:G.totalPages,pageChange:function(e){B(Object(j.a)(Object(j.a)({},_),{},{page:e}))}})})]})}var k;!function(e){e[e.DELETE=0]="DELETE"}(k||(k={}));var M=[new x.e(k.DELETE,"common.delete","ic_delete")];function _(){var e=Object(p.a)().t,t=Object(b.m)(),a=Object(m.a)(),n=Object(i.a)(a,2),o=n[0],r=n[1],l=Object(d.useState)(!1),s=Object(i.a)(l,2),u=s[0],x=s[1],S=Object(d.useState)(new E.d(0,10,o,w.a.BY_CREATED_TIME)),T=Object(i.a)(S,2),L=T[0],D=T[1],_=Object(d.useState)(),B=Object(i.a)(_,2),z=B[0],F=B[1],G=Object(g.b)(),W=Object(d.useCallback)((function(){x(!0),h.a.getPipelines(L).then((function(e){x(!1),F(e)})).catch((function(e){x(!1),Object(N.p)(e)}))}),[L]);Object(d.useEffect)((function(){L.textSearch!==o&&D((function(e){return Object(j.a)(Object(j.a)({},e),{},{textSearch:o})}))}),[o,L.textSearch]),Object(d.useEffect)((function(){W()}),[W]);var U=Object(d.useCallback)((function(e){D((function(t){return Object(j.a)(Object(j.a)({},t),{},{page:Object(N.q)(e)?t.page:e})}))}),[]),V=Object(d.useCallback)((function(e){var t=e.name,a=e.description,n=e.id,i=h.a.savePipeline({name:t,description:a,id:n});return i.then((function(){U()})),i}),[U]),H=Object(d.useCallback)((function(t,a){if(t===k.DELETE){var n=a.name,i=a.id;Object(N.a)({title:e("pipe.deletePipelineTitle",{name:n}),content:"common.deleteContent",okText:"common.delete",okBtnColor:"error",onOk:function(){var e=h.a.deletePipeline(i);return e.then((function(){U(0),N.c.success("common.deleteSuccessed")})),e}})}}),[e,U]),Y=Object(d.useCallback)((function(e){t("/pipelines/view/"+e)}),[t]),q=Object(d.useMemo)((function(){var e=[new P.f("left","name","pipe.pipelineName",void 0,(function(e){return Object(y.jsx)(A.a,{showUnderline:!1,onClick:function(){return Y(e.id)},children:e.name})})),new P.c(V,450),new P.d("user","pipe.createdBy",void 0,200,(function(e){var t,a,n,i;return Object(y.jsxs)(c.a,{sx:{pl:2},className:"flex-start flex-nowrap",children:[Object(y.jsx)(O.a,{sx:{width:32,height:32},src:C.n.get(null===(t=e.user)||void 0===t?void 0:t.avatar),children:null===(a=e.user)||void 0===a?void 0:a.firstName}),Object(y.jsx)(v.a,{sx:{ml:1},children:(null===(n=e.user)||void 0===n?void 0:n.firstName)+" "+(null===(i=e.user)||void 0===i?void 0:i.lastName)})]})})),new P.b("createdTime","common.createdTime")];return G||e.push(new P.d("operation","common.operation","right",100,(function(e){return Object(y.jsx)(c.a,{children:Object(y.jsx)(R.a,{menus:M,onMenuClick:function(t){return H(t,e)}})})}))),e}),[G,V,H,Y]);return Object(y.jsxs)(c.a,{sx:{height:1,minHeight:300},children:[Object(y.jsx)(I.a,{value:o,onChange:r}),Object(y.jsx)(f.a,{sx:{my:2}}),Object(y.jsxs)(c.a,{className:"flex-start",children:[Object(y.jsx)(v.a,{sx:{mt:1,mr:3},children:e("pipe.allPipes")}),Object(y.jsx)(v.a,{variant:"subtitle2",sx:{mt:1},children:z&&e("pipe.pipelineCounts",{count:null===z||void 0===z?void 0:z.totalElements})})]}),Object(y.jsx)(c.a,{sx:{height:"calc(100% - 84px)"},children:Object(y.jsx)(P.g,{hideBoxShadow:!0,loading:u,rows:null===z||void 0===z?void 0:z.content,columns:q,pageSize:10,page:L.page,totalPages:null===z||void 0===z?void 0:z.totalPages,pageChange:function(e){D(Object(j.a)(Object(j.a)({},L),{},{page:e}))}})})]})}var B=[{tab:S.a.RUNS,label:"pipe.PipelinePageTab.RUNS"},{tab:S.a.PIPELINES,label:"pipe.PipelinePageTab.PIPELINES"}];function z(){var e=Object(b.m)(),t=Object(p.a)().t,a=Object(d.useState)(S.a.RUNS),n=Object(i.a)(a,2),s=n[0],j=n[1],O=Object(d.useState)(!1),v=Object(i.a)(O,2),f=v[0],m=v[1],x=Object(g.b)();return Object(y.jsx)(c.a,{sx:{px:2},children:Object(y.jsxs)(c.a,{className:"border-box",sx:{px:3,py:2,bgcolor:N.f,height:1},children:[Object(y.jsxs)(c.a,{className:"flex-between with-border",sx:{borderWidth:0,borderBottomWidth:1,alignItems:"flex-start",height:49},children:[Object(y.jsx)(r.a,{sx:{height:1},variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,value:s,onChange:function(e,t){j(t)},children:B.map((function(e){return Object(y.jsx)(l.a,{label:t(e.label)},e.tab)}))}),!x&&Object(y.jsx)(o.a,{loading:f,variant:"contained",onClick:function(){m(!0);var a=u()().format("MM/DD/YY HH:mm:ss"),n={name:t("pipe.createName",{currentTime:a,interpolation:{escapeValue:!1}}),description:t("pipe.createDescription",{currentTime:a,interpolation:{escapeValue:!1}}),pipelineStageName:t("pipe.createStageName",{index:1}),pipelineStageDescription:t("pipe.createStageDescription",{index:1})};console.log(n),m(!1),h.a.createPipeline(n).then((function(t){e("/pipelines/edit/"+t.id),m(!1)})).catch((function(){m(!1)}))},children:t("pipe.createPipeline")})]}),Object(y.jsxs)(c.a,{sx:{height:"calc(100% - 50px)",py:2,overflowY:"auto"},className:"border-box",children:[s===S.a.RUNS&&Object(y.jsx)(D,{}),s===S.a.PIPELINES&&Object(y.jsx)(_,{})]})]})})}}}]);