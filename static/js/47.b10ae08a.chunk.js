(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[47],{954:function(e,r,s){"use strict";s.r(r),s.d(r,"default",(function(){return P}));var t=s(5),a=s(6),i=s(136),n=s(42),o=s(83),c=s(550),d=s(217),l=s(26),b=s(256),h=s(93),j=s(154),u=s(249),m=s(110),x=s(24),p=s(268),w=s(320),f=s(37),O=s(176),g=s(1),v=(new Date).getFullYear(),C=Object(d.a)((function(e){var r;return{container:{height:"100%"},resetPwdContainer:{backgroundColor:null===(r=e.custom)||void 0===r?void 0:r.commonBg,padding:"32px 32px",width:460,borderRadius:8,margin:"0 8px"},resetPwdTitle:{fontWeight:"bold",color:e.palette.primary.main,letterSpacing:1.5},translucenceImg:{right:-64,width:480,bottom:-120,position:"absolute"}}}));function P(){var e=Object(i.b)(),r=Object(a.a)(e,1)[0].get("resetToken"),s=C(),d=Object(l.m)(),P=Object(j.a)({initialValues:{password:"",passwordConfirm:""},validateOnMount:!0,validationSchema:h.b({password:h.c().max(255).min(8,Object(f.b)("user.createAdminErrors.passwordMin8")).required(Object(f.b)("user.createAdminErrors.password")),passwordConfirm:h.c().max(255).min(8,Object(f.b)("user.createAdminErrors.passwordMin8")).required(Object(f.b)("user.createAdminErrors.passwordConfirm"))}),onSubmit:function(e){var s=e.password;if(s===e.passwordConfirm){var t=m.a.resetPassword({password:s,resetToken:r});return t.then((function(e){x.c.success("user.resetPwdSuccessedTip"),d("/login")})).catch((function(e){var r;null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.message&&x.c.error(null===e||void 0===e?void 0:e.data.message)})),t}x.c.error("user.passwordNotSame")}});return Object(g.jsxs)(n.a,{className:"flex",sx:{height:1,flexDirection:"column"},children:[Object(g.jsx)(n.a,{className:"flex-start border-box",sx:{px:5,width:1,height:80,bgcolor:"#fff"},children:Object(g.jsx)("img",{width:240,src:p.a,alt:""})}),Object(g.jsxs)(n.a,{className:"flex",sx:{width:1,bgcolor:function(e){return e.palette.primary.main},flex:1,position:"relative"},children:[Object(g.jsxs)(n.a,{className:s.resetPwdContainer+" border-box",children:[Object(g.jsx)(o.a,{className:s.resetPwdTitle,variant:"h5",children:Object(f.b)("user.resetPwdTitle")}),Object(g.jsx)(n.a,{sx:{mt:5,height:64},children:Object(g.jsx)(b.a,Object(t.a)(Object(t.a)({width:400},P.getFieldProps("password")),{},{error:Boolean(P.touched.password&&P.errors.password),helperText:P.touched.password&&P.errors.password,label:"user.password"}))}),Object(g.jsx)(n.a,{sx:{height:64,my:1},children:Object(g.jsx)(b.a,Object(t.a)(Object(t.a)({width:400},P.getFieldProps("passwordConfirm")),{},{error:Boolean(P.touched.passwordConfirm&&P.errors.passwordConfirm),helperText:P.touched.passwordConfirm&&P.errors.passwordConfirm,label:"user.passwordConfirm"}))}),Object(g.jsxs)(n.a,{className:"flex-between",children:[Object(g.jsx)(u.a,{sx:{mr:2},fullWidth:!0,onClick:function(){d("/login")},variant:"contained",children:Object(g.jsx)("span",{children:Object(f.b)("common.back")})}),Object(g.jsx)(u.a,{loading:P.isSubmitting,fullWidth:!0,onClick:function(){P.handleSubmit()},variant:"contained",children:Object(g.jsx)("span",{children:Object(f.b)("user.reset")})})]})]}),Object(g.jsx)("img",{width:460,className:s.translucenceImg,src:w.a,alt:""})]}),Object(g.jsxs)(n.a,{sx:{width:1,height:64,bgcolor:"#fff"},className:"flex flex-wrap",children:[Object(g.jsx)(o.a,{sx:{mr:3},variant:"subtitle1",children:"Copyright@"+v+"BlueSphere,Inc."}),Object(g.jsx)(O.a,{showUnderline:!0,children:"Privacy statement"}),Object(g.jsx)(c.a,{orientation:"vertical",sx:{height:24,mx:1}}),Object(g.jsx)(O.a,{showUnderline:!0,children:"Terms of use"}),Object(g.jsx)(c.a,{orientation:"vertical",sx:{height:24,mx:1}}),Object(g.jsx)(O.a,{showUnderline:!0,children:"All polices and guidelines"})]})]})}}}]);