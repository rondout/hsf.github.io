(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[27],{671:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return S}));var o,n=a(42),i=a(83),r=a(134),c=a(354),l=a(674),d=a.n(l),s=a(673),u=a.n(s),b=a(43),j=a(36),v=a(47),p=a(173),O=a(155),h=a(37),m=a(672),f=a(106),x=a(251),g=a(104),C=a(0),w=a(1);!function(e){e.BY_TITLE="name",e.BY_CREATED_TIME="createdTime"}(o||(o={}));var R=[new j.e(o.BY_TITLE,"regTemp.sortBy.name"),new j.e(o.BY_CREATED_TIME,"regTemp.sortBy.createdTime")];function S(e){var t=e.sortProp,a=e.onSortChange,o=e.textSearch,l=e.onSearchChange,s=e.deleteDisabled,j=e.deleteTitle,S=e.addTitle,T=e.selectTitle,y=e.showSelectBtn,z=void 0!==y&&y,M=e.selectMode,k=void 0!==M&&M,E=e.authControl,B=void 0===E?"GENERAL":E,A=e.menus||R,D=Object(g.b)(),L=Object(g.a)(),N="GENERAL"===B?L:!D,W=Object(b.c)(v.a),_={add:!z||!k,delete:(!z||k)&&e.onDelete,select:z&&!k,selectAll:z&&k&&e.viewMode===m.a.CARD,cancel:z&&k};return Object(w.jsxs)(n.a,{sx:{mb:2,display:"flex",justifyContent:"space-between",height:36},children:[k&&Object(w.jsxs)(n.a,{className:"flex-start",children:[Object(w.jsx)(i.a,{fontSize:16,color:x.c,children:e.selectedCount}),Object(w.jsx)(i.a,{sx:{ml:1},children:Object(h.b)("common.selected")})]}),!k&&Object(w.jsxs)(n.a,{className:"flex-start",children:[void 0!==e.viewMode&&Object(w.jsx)(m.b,{items:m.c,mode:e.viewMode,onChange:e.onViewModeChange}),W?null:Object(w.jsx)(O.a,{title:"regTemp.sortBy."+t,selected:t,menus:A,onMenuClick:a}),Object(w.jsx)(p.a,{sx:{ml:W?0:2,bgcolor:"#fff"},value:o,onChange:l})]}),N&&Object(w.jsx)(C.Fragment,{children:W?Object(w.jsxs)(n.a,{children:[Object(w.jsx)(c.a,{onClick:e.onAdd,size:"medium",edge:"start",color:"primary","aria-label":"open drawer",sx:{mr:1},children:Object(w.jsx)(u.a,{})}),Object(w.jsx)(c.a,{onClick:e.onDelete,disabled:s,size:"medium",edge:"start",color:"error","aria-label":"open drawer",children:Object(w.jsx)(d.a,{})})]}):Object(w.jsxs)(n.a,{children:[_.add&&Object(w.jsx)(r.a,{onClick:e.onAdd,variant:"contained",children:Object(h.b)(S)}),_.cancel&&Object(w.jsx)(r.a,{onClick:function(){e.selectAll(!1),e.setSelectMode(!1)},variant:"outlined",children:Object(h.b)("common.cancel")}),_.selectAll&&Object(w.jsx)(f.a,{sx:{ml:2},onClick:function(){e.selectAll&&e.selectAll(!0)},children:Object(h.b)("common.selectAll")}),_.select&&Object(w.jsx)(f.a,{sx:{ml:2},onClick:function(){var t;void 0!==t?e.setSelectMode(t):e.setSelectMode(!k)},children:Object(h.b)(T)}),_.delete&&Object(w.jsx)(r.a,{onClick:e.onDelete,disabled:s,sx:{ml:2},variant:void 0!==e.viewMode?"contained":"outlined",children:Object(h.b)(j)})]})})]})}},672:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return p}));var o,n=a(5),i=a(7),r=a(134),c=a(64),l=a(689),d=a(995),s=a(171),u=a(51),b=a(1),j=Object(i.a)(r.a)((function(e){var t=e.theme;return{height:36,borderColor:t.palette.action.disabled,"&:hover":{borderColor:t.palette.action.disabled},"&.checked":{backgroundColor:Object(c.a)(t.palette.primary.main,.32)},"&.checked:hover":{backgroundColor:Object(c.a)(t.palette.primary.main,.32)}}}));!function(e){e[e.LIST=0]="LIST",e[e.CARD=1]="CARD"}(o||(o={}));var v=[{icon:"ic_viewmodule",value:o.CARD,label:"common.cardView"},{icon:"ic_viewheadline",value:o.LIST,label:"common.listView"}];function p(e){var t=e.mode,a=e.onChange,o=e.items,i=void 0===o?[]:o,r=e.sx,c=void 0===r?{}:r,v=Object(s.a)().t;return Object(b.jsx)(l.a,{sx:Object(n.a)({mr:2},c),children:i.map((function(e){return Object(b.jsx)(d.a,{title:v(e.label),children:Object(b.jsx)(j,{size:"small",onClick:function(){var o;(o=e.value)!==t&&a(o)},className:t===e.value?"checked":"",sx:{px:1},children:Object(b.jsx)(u.a,{color:"rgba(0, 0, 0, 0.54)",mr:0,icon:e.icon})})},e.label)}))})}},673:function(e,t,a){"use strict";var o=a(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(255)),i=a(1),r=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=r},674:function(e,t,a){"use strict";var o=a(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(255)),i=a(1),r=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=r},679:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a(5),n=a(42),i=a(64),r=a(83),c=a(1);function l(e){var t=e.size,a=void 0===t?"medium":t;return Object(c.jsx)(n.a,{sx:Object(o.a)({userSelect:"none",borderRadius:1.5,height:"small"===a?24:32,fontSize:14,display:"inline-flex",alignItems:"center",lineHeight:"small"===a?"24px":"32px",whiteSpace:"nowrap",px:"small"===a?1:1.5,bgcolor:Object(i.a)(e.color,.1)},e.sx),children:Object(c.jsx)("span",{className:"custom-chip-inner",style:{whiteSpace:"nowrap",color:e.color},children:Object(c.jsx)(r.a,{className:"line-clamp",style:e.innerStyle,children:e.label})})})}},689:function(e,t,a){"use strict";var o=a(3),n=a(4),i=a(2),r=a(0),c=a(8),l=a(152),d=a(64),s=a(10),u=a(7),b=a(16),j=a(92),v=a(103);function p(e){return Object(j.a)("MuiButtonGroup",e)}var O=Object(v.a)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),h=a(257),m=a(1),f=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],x=Object(u.a)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[Object(o.a)({},"& .".concat(O.grouped),t.grouped),Object(o.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(s.a)(a.orientation))]),Object(o.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(s.a)(a.variant))]),Object(o.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(s.a)(a.variant)).concat(Object(s.a)(a.orientation))]),Object(o.a)({},"& .".concat(O.grouped),t["grouped".concat(Object(s.a)(a.variant)).concat(Object(s.a)(a.color))]),t.root,t[a.variant],!0===a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth,"vertical"===a.orientation&&t.vertical]}})((function(e){var t=e.theme,a=e.ownerState;return Object(i.a)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[2]},a.disableElevation&&{boxShadow:"none"},a.fullWidth&&{width:"100%"},"vertical"===a.orientation&&{flexDirection:"column"},Object(o.a)({},"& .".concat(O.grouped),Object(i.a)({minWidth:40,"&:not(:first-of-type)":Object(i.a)({},"horizontal"===a.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===a.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===a.variant&&"horizontal"===a.orientation&&{marginLeft:-1},"outlined"===a.variant&&"vertical"===a.orientation&&{marginTop:-1}),"&:not(:last-of-type)":Object(i.a)({},"horizontal"===a.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===a.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===a.variant&&"horizontal"===a.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===a.variant&&"vertical"===a.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===a.variant&&"inherit"!==a.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / 0.5)"):Object(d.a)(t.palette[a.color].main,.5)},"outlined"===a.variant&&"horizontal"===a.orientation&&{borderRightColor:"transparent"},"outlined"===a.variant&&"vertical"===a.orientation&&{borderBottomColor:"transparent"},"contained"===a.variant&&"horizontal"===a.orientation&&Object(o.a)({borderRight:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(O.disabled),{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===a.variant&&"vertical"===a.orientation&&Object(o.a)({borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(O.disabled),{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===a.variant&&"inherit"!==a.color&&{borderColor:(t.vars||t).palette[a.color].dark},{"&:hover":Object(i.a)({},"outlined"===a.variant&&"horizontal"===a.orientation&&{borderRightColor:"currentColor"},"outlined"===a.variant&&"vertical"===a.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":Object(i.a)({},"contained"===a.variant&&{boxShadow:"none"})},"contained"===a.variant&&{boxShadow:"none"})))})),g=r.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiButtonGroup"}),o=a.children,d=a.className,u=a.color,j=void 0===u?"primary":u,v=a.component,O=void 0===v?"div":v,g=a.disabled,C=void 0!==g&&g,w=a.disableElevation,R=void 0!==w&&w,S=a.disableFocusRipple,T=void 0!==S&&S,y=a.disableRipple,z=void 0!==y&&y,M=a.fullWidth,k=void 0!==M&&M,E=a.orientation,B=void 0===E?"horizontal":E,A=a.size,D=void 0===A?"medium":A,L=a.variant,N=void 0===L?"outlined":L,W=Object(n.a)(a,f),_=Object(i.a)({},a,{color:j,component:O,disabled:C,disableElevation:R,disableFocusRipple:T,disableRipple:z,fullWidth:k,orientation:B,size:D,variant:N}),P=function(e){var t=e.classes,a=e.color,o=e.disabled,n=e.disableElevation,i=e.fullWidth,r=e.orientation,c=e.variant,d={root:["root",c,"vertical"===r&&"vertical",i&&"fullWidth",n&&"disableElevation"],grouped:["grouped","grouped".concat(Object(s.a)(r)),"grouped".concat(Object(s.a)(c)),"grouped".concat(Object(s.a)(c)).concat(Object(s.a)(r)),"grouped".concat(Object(s.a)(c)).concat(Object(s.a)(a)),o&&"disabled"]};return Object(l.a)(d,p,t)}(_),V=r.useMemo((function(){return{className:P.grouped,color:j,disabled:C,disableElevation:R,disableFocusRipple:T,disableRipple:z,fullWidth:k,size:D,variant:N}}),[j,C,R,T,z,k,D,N,P.grouped]);return Object(m.jsx)(x,Object(i.a)({as:O,role:"group",className:Object(c.a)(P.root,d),ref:t,ownerState:_},W,{children:Object(m.jsx)(h.a.Provider,{value:V,children:o})}))}));t.a=g},994:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));var o=a(5),n=a(6),i=a(42),r=a(134),c=a(0),l=a(171),d=a(105),s=a(173),u=a(45),b=a(671),j=a(175),v=a(679),p=a(154),O=a(135),h=a(93),m=a(153),f=a(24),x=a(160),g=a(1),C={description:void 0,effective:null,quantity:null};function w(e){var t=Object(p.a)({initialValues:Object(o.a)({},C),validateOnMount:!0,validationSchema:h.b({effective:h.a().required(),quantity:h.a().required()}),onSubmit:function(e){}}),a=Object(c.useCallback)((function(e){return Object(o.a)(Object(o.a)({},t.getFieldProps(e)),{},{error:t.errors[e]&&t.touched[e],label:"license."+e})}),[t]);return Object(g.jsx)(O.b,Object(o.a)(Object(o.a)({size:"xs"},e),{},{title:"user.addLicense",onOk:function(){if(t.handleSubmit(),t.isValid){var a=t.values,o={description:a.description,effective:a.effective,quantity:a.quantity};console.log(o);var n=x.a.createDeviceLicense(o);return n.then((function(){f.c.success("license.createSuccess"),e.onOk()})).catch((function(e){var t;f.c.error((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"license.createError")})),n}},onClose:function(){t.resetForm(),e.onClose&&e.onClose()},children:Object(g.jsxs)(i.a,{sx:{px:2},children:[Object(g.jsx)(m.a,Object(o.a)({inputProps:{min:1},type:"number",sx:{mt:3},width:400},a("effective"))),Object(g.jsx)(m.a,Object(o.a)({inputProps:{min:1},type:"number",sx:{mt:3},width:400},a("quantity"))),Object(g.jsx)(m.a,Object(o.a)(Object(o.a)({sx:{mt:3},width:400},a("description")),{},{maxRows:5,minRows:2,multiline:!0}))]})}))}var R,S=a(36),T=a(75),y=a(138);!function(e){e[e.DOWNLOAD=0]="DOWNLOAD"}(R||(R={}));var z=[new S.e(R.DOWNLOAD,"file.download","ic_download")];function M(){var e=Object(l.a)().t,t=Object(c.useState)(),a=Object(n.a)(t,2),p=a[0],O=a[1],h=Object(c.useState)(!1),m=Object(n.a)(h,2),C=m[0],R=m[1],S=Object(c.useState)(!1),M=Object(n.a)(S,2),k=M[0],E=M[1],B=Object(c.useState)(new y.d(0,10,void 0,b.a.BY_CREATED_TIME)),A=Object(n.a)(B,2),D=A[0],L=A[1];Object(c.useEffect)((function(){R(!0),x.a.getDeviceLicenses(D).then((function(e){O(e),R(!1)})).catch((function(e){R(!1)}))}),[D]);var N=Object(c.useCallback)((function(e){L(Object(o.a)(Object(o.a)({},D),{},{page:0,textSearch:e}))}),[D]),W=Object(c.useCallback)((function(e,t){Object(f.l)(t.filePathHttps)}),[]),_=function(){E(!0)},P=Object(c.useMemo)((function(){return[new u.f("left","identifier","license.identifier"),new u.a("effective","license.effective"),new u.a("quantity","license.quantity"),new u.b("startTime","license.startTime"),new u.b("endTime","license.endTime"),new u.d("status","common.status",void 0,null,(function(t){var a=T.b.get(t.status);return Object(g.jsx)(i.a,{sx:{pl:1},children:Object(g.jsx)(v.a,{size:"small",sx:{ml:1,mr:2},innerStyle:{fontSize:12},color:a.color,label:e(a.label)})})})),new u.a("description","common.description"),new u.b("createdTime","common.createdTime"),new u.d("operation",null,"right",80,(function(e){return Object(g.jsx)(d.a,{sx:{pl:2},menus:z,onMenuClick:function(t){return W(t,e)}})}),!0)]}),[W,e]),V=Object(c.useMemo)((function(){return Object(g.jsxs)(i.a,{className:"flex-start",sx:{flexWrap:"nowrap"},children:[Object(g.jsx)(s.a,{value:D.textSearch,onChange:N}),Object(g.jsx)(r.a,{onClick:_,variant:"contained",sx:{ml:2},children:e("user.addLicense")})]})}),[D.textSearch,N,e]);return Object(g.jsxs)(i.a,{sx:{px:2},children:[Object(g.jsx)(j.a,{noPadding:!0,containerFullHeight:!0,containerMargin:!1,fullHeight:!0,headerChild:V,title:e("user.navTitles.LicenseManagement"),children:Object(g.jsx)(u.g,{hideBoxShadow:!0,totalPages:null===p||void 0===p?void 0:p.totalPages,pageChange:function(e){L(Object(o.a)(Object(o.a)({},D),{},{page:e}))},columns:P,rows:null===p||void 0===p?void 0:p.content,loading:C,pageSize:10,page:D.page})}),Object(g.jsx)(w,{open:k,onClose:function(){E(!1)},onOk:function(){L(Object(o.a)(Object(o.a)({},D),{},{page:0}))}})]})}}}]);