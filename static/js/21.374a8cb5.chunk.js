(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[21],{671:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return S}));var a,o=n(42),r=n(83),i=n(134),c=n(354),l=n(674),s=n.n(l),d=n(673),u=n.n(d),b=n(43),j=n(36),f=n(47),m=n(173),p=n(155),O=n(37),h=n(672),v=n(106),x=n(251),g=n(104),C=n(0),w=n(1);!function(e){e.BY_TITLE="name",e.BY_CREATED_TIME="createdTime"}(a||(a={}));var E=[new j.e(a.BY_TITLE,"regTemp.sortBy.name"),new j.e(a.BY_CREATED_TIME,"regTemp.sortBy.createdTime")];function S(e){var t=e.sortProp,n=e.onSortChange,a=e.textSearch,l=e.onSearchChange,d=e.deleteDisabled,j=e.deleteTitle,S=e.addTitle,N=e.selectTitle,T=e.showSelectBtn,R=void 0!==T&&T,I=e.selectMode,k=void 0!==I&&I,A=e.authControl,y=void 0===A?"GENERAL":A,_=e.menus||E,M=Object(g.b)(),D=Object(g.a)(),P="GENERAL"===y?D:!M,G=Object(b.c)(f.a),B={add:!R||!k,delete:(!R||k)&&e.onDelete,select:R&&!k,selectAll:R&&k&&e.viewMode===h.a.CARD,cancel:R&&k};return Object(w.jsxs)(o.a,{sx:{mb:2,display:"flex",justifyContent:"space-between",height:36},children:[k&&Object(w.jsxs)(o.a,{className:"flex-start",children:[Object(w.jsx)(r.a,{fontSize:16,color:x.c,children:e.selectedCount}),Object(w.jsx)(r.a,{sx:{ml:1},children:Object(O.b)("common.selected")})]}),!k&&Object(w.jsxs)(o.a,{className:"flex-start",children:[void 0!==e.viewMode&&Object(w.jsx)(h.b,{items:h.c,mode:e.viewMode,onChange:e.onViewModeChange}),G?null:Object(w.jsx)(p.a,{title:"regTemp.sortBy."+t,selected:t,menus:_,onMenuClick:n}),Object(w.jsx)(m.a,{sx:{ml:G?0:2,bgcolor:"#fff"},value:a,onChange:l})]}),P&&Object(w.jsx)(C.Fragment,{children:G?Object(w.jsxs)(o.a,{children:[Object(w.jsx)(c.a,{onClick:e.onAdd,size:"medium",edge:"start",color:"primary","aria-label":"open drawer",sx:{mr:1},children:Object(w.jsx)(u.a,{})}),Object(w.jsx)(c.a,{onClick:e.onDelete,disabled:d,size:"medium",edge:"start",color:"error","aria-label":"open drawer",children:Object(w.jsx)(s.a,{})})]}):Object(w.jsxs)(o.a,{children:[B.add&&Object(w.jsx)(i.a,{onClick:e.onAdd,variant:"contained",children:Object(O.b)(S)}),B.cancel&&Object(w.jsx)(i.a,{onClick:function(){e.selectAll(!1),e.setSelectMode(!1)},variant:"outlined",children:Object(O.b)("common.cancel")}),B.selectAll&&Object(w.jsx)(v.a,{sx:{ml:2},onClick:function(){e.selectAll&&e.selectAll(!0)},children:Object(O.b)("common.selectAll")}),B.select&&Object(w.jsx)(v.a,{sx:{ml:2},onClick:function(){var t;void 0!==t?e.setSelectMode(t):e.setSelectMode(!k)},children:Object(O.b)(N)}),B.delete&&Object(w.jsx)(i.a,{onClick:e.onDelete,disabled:d,sx:{ml:2},variant:void 0!==e.viewMode?"contained":"outlined",children:Object(O.b)(j)})]})})]})}},672:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m}));var a,o=n(5),r=n(7),i=n(134),c=n(64),l=n(689),s=n(995),d=n(171),u=n(51),b=n(1),j=Object(r.a)(i.a)((function(e){var t=e.theme;return{height:36,borderColor:t.palette.action.disabled,"&:hover":{borderColor:t.palette.action.disabled},"&.checked":{backgroundColor:Object(c.a)(t.palette.primary.main,.32)},"&.checked:hover":{backgroundColor:Object(c.a)(t.palette.primary.main,.32)}}}));!function(e){e[e.LIST=0]="LIST",e[e.CARD=1]="CARD"}(a||(a={}));var f=[{icon:"ic_viewmodule",value:a.CARD,label:"common.cardView"},{icon:"ic_viewheadline",value:a.LIST,label:"common.listView"}];function m(e){var t=e.mode,n=e.onChange,a=e.items,r=void 0===a?[]:a,i=e.sx,c=void 0===i?{}:i,f=Object(d.a)().t;return Object(b.jsx)(l.a,{sx:Object(o.a)({mr:2},c),children:r.map((function(e){return Object(b.jsx)(s.a,{title:f(e.label),children:Object(b.jsx)(j,{size:"small",onClick:function(){var a;(a=e.value)!==t&&n(a)},className:t===e.value?"checked":"",sx:{px:1},children:Object(b.jsx)(u.a,{color:"rgba(0, 0, 0, 0.54)",mr:0,icon:e.icon})})},e.label)}))})}},673:function(e,t,n){"use strict";var a=n(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(255)),r=n(1),i=(0,o.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.default=i},674:function(e,t,n){"use strict";var a=n(254);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(255)),r=n(1),i=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i},678:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return b}));var a=n(29),o=function(e){return{type:a.d.INIT_CONFIG_DETAIL,data:e}},r=function(){return{type:a.d.RESET_CONFIG}},i=function(e){return{type:a.d.SET_BASIC_CONFIG,data:e}},c=function(e){return{type:a.d.SET_SETTINGS_CONFIG,data:e}},l=function(e){return{type:a.d.SET_KIOSK_INFO,data:e}},s=function(e){return{type:a.d.SET_DEVICE_CONFIG,data:e}},d=function(e){return{type:a.d.SET_PART_DEVICE_CONFIG,data:e}},u=function(e){return{type:a.d.SET_DEVICE_GROUP,data:e}},b=function(e){return{type:a.d.SET_DEVICE_POOL,data:e}}},680:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return b}));var a=n(84),o=function(e){return e.regTemp.regTempDetail},r=function(e){var t=e.regTemp.regTempDetail;return{name:t.name,description:t.description}},i=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting},c=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.kiosk},l=function(e){var t,n=null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.config;return n.wifiForProvision||(n.wifiForProvision=a.w),n},s=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.deviceGroup},d=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.deviceSnPool},u=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting.adb},b=function(e){var t;return null===(t=e.regTemp.regTempDetail)||void 0===t?void 0:t.contentInfo.setting.bluetooth}},682:function(e,t,n){"use strict";var a=n(7),o=n(656),r=n(64),i=Object(a.a)(o.a)((function(e){var t=e.theme;return{backgroundColor:Object(r.a)(t.palette.primary.main,.08),color:t.palette.primary.main,fontSize:14,paddingRight:6}}));t.a=i},689:function(e,t,n){"use strict";var a=n(3),o=n(4),r=n(2),i=n(0),c=n(8),l=n(152),s=n(64),d=n(10),u=n(7),b=n(16),j=n(92),f=n(103);function m(e){return Object(j.a)("MuiButtonGroup",e)}var p=Object(f.a)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),O=n(257),h=n(1),v=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],x=Object(u.a)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(a.a)({},"& .".concat(p.grouped),t.grouped),Object(a.a)({},"& .".concat(p.grouped),t["grouped".concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(p.grouped),t["grouped".concat(Object(d.a)(n.variant))]),Object(a.a)({},"& .".concat(p.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.orientation))]),Object(a.a)({},"& .".concat(p.grouped),t["grouped".concat(Object(d.a)(n.variant)).concat(Object(d.a)(n.color))]),t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},Object(a.a)({},"& .".concat(p.grouped),Object(r.a)({minWidth:40,"&:not(:first-of-type)":Object(r.a)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":Object(r.a)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):Object(s.a)(t.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&Object(a.a)({borderRight:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(p.disabled),{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===n.variant&&"vertical"===n.orientation&&Object(a.a)({borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400])},"&.".concat(p.disabled),{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}),"contained"===n.variant&&"inherit"!==n.color&&{borderColor:(t.vars||t).palette[n.color].dark},{"&:hover":Object(r.a)({},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"currentColor"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":Object(r.a)({},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})))})),g=i.forwardRef((function(e,t){var n=Object(b.a)({props:e,name:"MuiButtonGroup"}),a=n.children,s=n.className,u=n.color,j=void 0===u?"primary":u,f=n.component,p=void 0===f?"div":f,g=n.disabled,C=void 0!==g&&g,w=n.disableElevation,E=void 0!==w&&w,S=n.disableFocusRipple,N=void 0!==S&&S,T=n.disableRipple,R=void 0!==T&&T,I=n.fullWidth,k=void 0!==I&&I,A=n.orientation,y=void 0===A?"horizontal":A,_=n.size,M=void 0===_?"medium":_,D=n.variant,P=void 0===D?"outlined":D,G=Object(o.a)(n,v),B=Object(r.a)({},n,{color:j,component:p,disabled:C,disableElevation:E,disableFocusRipple:N,disableRipple:R,fullWidth:k,orientation:y,size:M,variant:P}),z=function(e){var t=e.classes,n=e.color,a=e.disabled,o=e.disableElevation,r=e.fullWidth,i=e.orientation,c=e.variant,s={root:["root",c,"vertical"===i&&"vertical",r&&"fullWidth",o&&"disableElevation"],grouped:["grouped","grouped".concat(Object(d.a)(i)),"grouped".concat(Object(d.a)(c)),"grouped".concat(Object(d.a)(c)).concat(Object(d.a)(i)),"grouped".concat(Object(d.a)(c)).concat(Object(d.a)(n)),a&&"disabled"]};return Object(l.a)(s,m,t)}(B),L=i.useMemo((function(){return{className:z.grouped,color:j,disabled:C,disableElevation:E,disableFocusRipple:N,disableRipple:R,fullWidth:k,size:M,variant:P}}),[j,C,E,N,R,k,M,P,z.grouped]);return Object(h.jsx)(x,Object(r.a)({as:p,role:"group",className:Object(c.a)(z.root,s),ref:t,ownerState:B},G,{children:Object(h.jsx)(O.a.Provider,{value:L,children:a})}))}));t.a=g},692:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(6),o=n(42),r=n(37),i=n(0),c=n(250),l=n(24),s=n(153),d=n(135),u=n(253),b=n(1);function j(e){var t=e.parentId,n=Object(i.useState)(""),j=Object(a.a)(n,2),f=j[0],m=j[1],p=function(){m(""),e.onClose()};return Object(b.jsx)(d.b,{transparentTitleBg:!0,title:"regTemp.addDeviceGroup",open:e.open,onClose:p,onOk:function(){if(f){var n=c.f.createGroup({parentId:t,deviceGroupName:f});return n.then((function(t){e.onOk(),p()})),n}l.c.error("device.errors.needGroupName")},children:Object(b.jsxs)(o.a,{sx:{pl:2},className:"flex-start flex-wrap",children:[Object(b.jsx)(o.a,{sx:{width:300,mr:2},children:Object(b.jsx)(s.a,{name:"groupName",onChange:function(e){m(e.target.value)},label:"common.name",value:f,placeholder:Object(r.b)("regTemp.holders.groupName"),inputProps:{maxLength:12}})}),Object(b.jsx)(u.a,{content:"regTemp.max12Chars"})]})})}},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(5),o=n(3),r=n(0),i=n(915),c=n(993),l=n(8),s=n(83),d=n(64),u=n(42),b=n(995),j=n(354),f=n(555),m=n(51),p=n(37),O=n(43),h=n(47),v=n(1);function x(e){var t=r.forwardRef((function(t,n){var a,r,c=Object(O.c)(h.l),x=e.sx,g=void 0===x?{}:x,C=t.classes,w=t.className,E=t.label,S=t.nodeId,N=t.icon,T=t.expansionIcon,R=t.displayIcon,I=Object(i.a)(S),k=I.disabled,A=I.expanded,y=I.selected,_=I.focused,M=I.handleExpansion,D=I.handleSelection,P=I.preventSelection,G=N||T||R,B=function(e,t){e.stopPropagation(),t instanceof Function&&t()},z=Object(d.e)(c,.3);return Object(v.jsxs)(u.a,{className:Object(l.a)(w,C.root,(a={},Object(o.a)(a,C.expanded,A),Object(o.a)(a,C.selected,y),Object(o.a)(a,C.focused,_),Object(o.a)(a,C.disabled,k),a)),onMouseDown:function(e){P(e)},ref:n,sx:g,children:[Object(v.jsx)(u.a,{onClick:function(e){M(e)},className:C.iconContainer,children:G}),Object(v.jsxs)(u.a,{className:"flex",style:{flex:1,height:"100%",marginLeft:4,overflow:"hidden"},onClick:function(){e.ContentProps.onSelected&&e.ContentProps.onSelected({name:t.label,id:t.nodeId})},children:[Object(v.jsx)(m.a,{fontSize:32,icon:"ic_menu_device1",color:z}),Object(v.jsx)(s.a,{onClick:function(e){D(e)},component:"div",sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},className:C.label,children:E}),!1!==e.ContentProps.showAddButton&&Object(v.jsx)(b.a,{title:Object(p.b)("device.addGroup"),children:Object(v.jsx)(j.a,{onClick:function(t){return B(t,e.ContentProps.onAddClick)},className:"tree-item-operation flex",size:"small",children:Object(v.jsx)(m.a,{mr:0,icon:"ic_add1"})})}),e.ContentProps.onDetailClick&&Object(v.jsx)(j.a,{sx:{ml:0},onClick:function(t){return B(t,e.ContentProps.onDetailClick)},className:"tree-item-operation flex",size:"small",children:Object(v.jsx)(m.a,{mr:0,icon:"ic_look"})}),null===(r=e.ContentProps.operationComponents)||void 0===r?void 0:r.map((function(e){return e})),e.ContentProps.showRadio&&Object(v.jsx)(f.a,{onChange:function(t){return e.ContentProps.onChange(t)},checked:e.checked})]})]})}));return Object(v.jsx)(c.a,Object(a.a)({ContentComponent:t},e))}},705:function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return R}));var a=n(6),o=n(5),r=n(1004),i=n(7),c=n(64),l=n(42),s=n(83),d=n(550),u=n(555),b=n(37),j=n(0),f=n(43),m=n(250),p=n(678),O=n(47),h=n(680),v=n(173),x=n(174),g=n(51),C=n(692),w=n(693),E=n(253),S=n(1),N={padding:"0 16px",boxShadow:"0px 1px 4px 2px rgb(44 57 127 / 12%)",marginBottom:12,borderRadius:4,height:56,width:360},T=Object(i.a)(r.a)((function(e){var t=e.theme;return{padding:"16px 32px","& .Mui-focused":{backgroundColor:"transparent !important"},"& .Mui-selected":{backgroundColor:Object(c.a)(t.palette.primary.main,.1)+" !important","& .tree-item-operation":{display:"block"}}}})),R=Object(i.a)(w.a)((function(e){e.theme;return{".MuiTreeItem-content":Object(o.a)(Object(o.a)({},N),{},{"& .tree-item-operation":{display:"none"},"&:hover .tree-item-operation":{display:"block !important"}}),"&:hover .MuiTreeItem-content":{}}})),I=Object(j.forwardRef)((function(e,t){var n=Object(j.useState)(""),r=Object(a.a)(n,2),i=r[0],c=r[1],w=Object(f.c)(O.c),I=Object(j.useState)([]),k=Object(a.a)(I,2),A=k[0],y=k[1],_=Object(j.useState)(""),M=Object(a.a)(_,2),D=M[0],P=M[1],G=Object(f.b)(),B=Object(f.c)(h.b),z=Object(j.useMemo)((function(){return[null===B||void 0===B?void 0:B.id]}),[]),L=Object(j.useState)((null===B||void 0===B?void 0:B.id)||null),V=Object(a.a)(L,2),F=V[0],W=V[1],H=Object(j.useState)(B),q=Object(a.a)(H,2),U=q[0],Y=q[1],X=Object(j.useState)(!1),J=Object(a.a)(X,2),K=J[0],Q=J[1],Z=Object(j.useCallback)((function(){G(Object(p.e)(U))}),[U,G]);Object(j.useEffect)((function(){return Z}),[Z]);var $=Object(j.useCallback)((function(){m.f.getAllGroupTree().then((function(e){e.success&&y(e.nodeList)}))}),[]);Object(j.useImperativeHandle)(t,(function(){return{validateForm:function(){return new Promise((function(e,t){Boolean(U)?e({}):e({message:"regTemp.groupRequired"})}))},isValid:Boolean(U),values:U}})),Object(j.useEffect)((function(){D?m.f.searchGroups({textSearch:D}).then((function(e){y(e)})):$()}),[D,$]);var ee,te=function e(t){var n,a=t.level%6,o=w[a];return Object(S.jsx)(R,{ContentProps:{avatarColor:o,onChange:function(e){return function(e,t){if(e.target.checked){var n=t.id,a=t.name;W(n),Y({id:n,name:a})}}(e,t)},onAddClick:function(){return function(e){console.log(e),c(e.id),Q(!0)}(t)},showRadio:!0},checked:F===t.id,onClick:function(){return function(e){W(e.id)}(t)},nodeId:t.id,label:t.name,children:null===(n=t.child)||void 0===n?void 0:n.map((function(t){return e(t)}))},t.id)};return Object(S.jsxs)(l.a,{sx:{height:1,display:"flex",flexDirection:"column"},children:[Object(S.jsxs)(l.a,{className:"flex-start flex-wrap",children:[Object(S.jsx)(s.a,{sx:{mr:4},children:Object(b.b)("regTemp.linkGroupToTemp")}),Object(S.jsx)(v.a,{value:D,placeholder:"device.searchGroup",onChange:function(e){P(e)}})]}),Object(S.jsx)(d.a,{sx:{my:3}}),Object(S.jsxs)(l.a,{className:"flex-start flex-wrap",sx:{flex:1,alignItems:"flex-start",overflowY:"auto",minHeight:10},children:[Object(S.jsx)(l.a,{sx:{height:1,width:500,overflowY:"auto"},children:Object(S.jsxs)(T,{selected:F,defaultExpanded:z,defaultCollapseIcon:Object(S.jsx)(g.a,{icon:"ic_arrow_down"}),defaultExpandIcon:Object(S.jsx)(g.a,{icon:"ic_arrow_right"}),sx:{flexGrow:1,overflowY:"auto"},children:[A&&(ee=A,ee.map((function(e){return te(e)}))),!A.length&&Object(S.jsx)(x.a,{})]})}),Object(S.jsx)(d.a,{orientation:"vertical"}),Object(S.jsxs)(l.a,{sx:{flex:1,minWidth:400,p:4,pt:1},children:[Object(S.jsx)(s.a,{children:Object(b.b)("regTemp.selectedGroup")}),U&&Object(S.jsxs)(l.a,{className:"flex-between",style:Object(o.a)({},N),sx:{boxSizing:"border-box",my:3},children:[Object(S.jsx)(g.a,{primary:!0,fontSize:32,icon:"ic_menu_device1"}),Object(S.jsx)(s.a,{component:"div",children:U.name}),Object(S.jsx)(l.a,{sx:{flex:1}}),Object(S.jsx)(u.a,{checked:!0})]})]})]}),Object(S.jsx)(d.a,{sx:{my:3}}),Object(S.jsx)(l.a,{sx:{pb:3,mb:-1},className:"footer",children:Object(S.jsx)(E.a,{content:"regTemp.selectGroupAddTip"})}),Object(S.jsx)(C.a,{parentId:i,open:K,onClose:function(){Q(!1)},onOk:function(){$()}})]})}));t.c=I},711:function(e,t,n){"use strict";var a=n(6),o=n(4),r=n(2),i=n(0),c=n(8),l=n(152),s=n(7),d=n(16),u=n(32),b=n(1),j=Object(u.a)(Object(b.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),f=n(92),m=n(103);function p(e){return Object(f.a)("MuiAvatar",e)}Object(m.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var O=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],h=Object(s.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&Object(r.a)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),v=Object(s.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),x=Object(s.a)(j,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var g=i.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiAvatar"}),s=n.alt,u=n.children,j=n.className,f=n.component,m=void 0===f?"div":f,g=n.imgProps,C=n.sizes,w=n.src,E=n.srcSet,S=n.variant,N=void 0===S?"circular":S,T=Object(o.a)(n,O),R=null,I=function(e){var t=e.crossOrigin,n=e.referrerPolicy,o=e.src,r=e.srcSet,c=i.useState(!1),l=Object(a.a)(c,2),s=l[0],d=l[1];return i.useEffect((function(){if(o||r){d(!1);var e=!0,a=new Image;return a.onload=function(){e&&d("loaded")},a.onerror=function(){e&&d("error")},a.crossOrigin=t,a.referrerPolicy=n,a.src=o,r&&(a.srcset=r),function(){e=!1}}}),[t,n,o,r]),s}(Object(r.a)({},g,{src:w,srcSet:E})),k=w||E,A=k&&"error"!==I,y=Object(r.a)({},n,{colorDefault:!A,component:m,variant:N}),_=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(l.a)(n,p,t)}(y);return R=A?Object(b.jsx)(v,Object(r.a)({alt:s,src:w,srcSet:E,sizes:C,ownerState:y,className:_.img},g)):null!=u?u:k&&s?s[0]:Object(b.jsx)(x,{className:_.fallback}),Object(b.jsx)(h,Object(r.a)({as:m,ownerState:y,className:Object(c.a)(_.root,j),ref:t},T,{children:R}))}));t.a=g},789:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6),o=n(0);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(o.useState)(e),n=Object(a.a)(t,2),r=n[0],i=n[1],c=function(e){i(e)},l=[r,c];return l}},793:function(e,t,n){"use strict";var a=n(3),o=n(4),r=n(2),i=n(0),c=n(8),l=n(152),s=n(7),d=n(16),u=n(652),b=n(972),j=n(143),f=n(720),m=n(726),p=n(92),O=n(103);function h(e){return Object(p.a)("MuiStepButton",e)}var v=Object(O.a)("MuiStepButton",["root","horizontal","vertical","touchRipple"]),x=n(1),g=["children","className","icon","optional"],C=Object(s.a)(u.a,{name:"MuiStepButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(a.a)({},"& .".concat(v.touchRipple),t.touchRipple),t.root,t[n.orientation]]}})((function(e){var t=e.ownerState;return Object(r.a)({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},"vertical"===t.orientation&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},Object(a.a)({},"& .".concat(v.touchRipple),{color:"rgba(0, 0, 0, 0.3)"}))})),w=i.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiStepButton"}),a=n.children,s=n.className,u=n.icon,p=n.optional,O=Object(o.a)(n,g),v=i.useContext(m.a).disabled,w=i.useContext(f.a).orientation,E=Object(r.a)({},n,{orientation:w}),S=function(e){var t=e.classes,n={root:["root",e.orientation],touchRipple:["touchRipple"]};return Object(l.a)(n,h,t)}(E),N={icon:u,optional:p},T=Object(j.a)(a,["StepLabel"])?i.cloneElement(a,N):Object(x.jsx)(b.a,Object(r.a)({},N,{children:a}));return Object(x.jsx)(C,Object(r.a)({focusRipple:!0,disabled:v,TouchRippleProps:{className:S.touchRipple},className:Object(c.a)(S.root,s),ref:t,ownerState:E},O,{children:T}))}));t.a=w},990:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var a,o,r=n(5),i=n(6),c=n(42),l=n(711),s=n(83),d=n(134),u=n(0),b=n(171),j=n(110),f=n(36),m=n(138),p=n(34),O=n(24),h=n(105),v=n(173),x=n(45),g=n(671),C=n(175),w=n(176),E=n(155),S=n(23),N=n(980),T=n(1e3),R=n(793),I=n(655),k=n(43),A=n(250),y=n(47),_=n(174),M=n(135),D=n(51),P=n(682),G=n(705),B=n(253),z=n(154),L=n(93),V=n(153),F=n(256),W=n(127),H=n(249),q=n(789),U=n(1),Y=["user.basicInfo","user.assignPermission"];!function(e){e[e.CANCEL=0]="CANCEL",e[e.NEXT_STEP=1]="NEXT_STEP",e[e.PREV_STEP=2]="PREV_STEP",e[e.CONFIRM=3]="CONFIRM"}(a||(a={})),function(e){e[e.EDIT=0]="EDIT",e[e.CREATE=1]="CREATE"}(o||(o={}));var X=[new W.a(p.b.GENERAL_ADMIN,"common.GENERAL_ADMIN"),new W.a(p.b.OBSERVE_ADMIN,"common.OBSERVE_ADMIN"),new W.a(p.b.GROUP_ADMIN,"common.GROUP_ADMIN"),new W.a(p.b.GROUP_OBSERVE_ADMIN,"common.GROUP_OBSERVE_ADMIN")],J=Object(u.memo)((function(e){var t=e.onClose,n=void 0===t?function(){}:t,l=e.configType,f=e.detail,m=Object(k.c)(y.c),h=Object(b.a)().t,x=Object(u.useState)(0),g=Object(i.a)(x,2),C=g[0],w=g[1],E=Object(u.useState)([]),J=Object(i.a)(E,2),K=J[0],Q=J[1],Z=Object(u.useState)([]),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ne=Object(q.a)(),ae=Object(i.a)(ne,2),oe=ae[0],re=ae[1],ie=Object(u.useState)(p.b.GENERAL_ADMIN),ce=Object(i.a)(ie,2),le=ce[0],se=ce[1],de=Object(u.useState)(!1),ue=Object(i.a)(de,2),be=ue[0],je=ue[1],fe=Object(u.useState)(!1),me=Object(i.a)(fe,2),pe=me[0],Oe=me[1],he=l===o.CREATE,ve=pe||he,xe=he?"user.addAdmin":"user.editAdmin",ge=he?"user.createAdminSuccess":"user.editAdminSuccess",Ce=Object(u.useCallback)((function(){A.f.getAllGroupTree().then((function(e){e.success&&Q(e.nodeList)}))}),[]),we=Object(z.a)({initialValues:{firstName:"",lastName:"",email:"",password:"",passwordConfirm:""},validateOnMount:!0,validationSchema:L.b({firstName:L.c().required("firstName"),lastName:L.c().required("lastName"),email:L.c().required("email").email("emailNotValid"),password:L.c().required("password").min(8,"passwordMin8").when("null",{is:function(){return ve},then:function(e){return e.required("password")},otherwise:function(e){return e.optional()}}),passwordConfirm:L.c().required("passwordConfirm").min(8,"passwordMin8").when("name",{is:function(){return ve},then:function(e){return e.required("passwordConfirm")},otherwise:function(e){return e.optional()}})}),onSubmit:function(){}});Object(u.useEffect)((function(){if(he)we.setValues({firstName:"",lastName:"",email:"",password:"",passwordConfirm:""});else{var t=f||{},n=t.firstName,a=t.lastName,o=t.email,r=t.authority;we.setValues({firstName:n,lastName:a,email:o,password:"",passwordConfirm:""}),se(r),e.open&&j.a.getGroupsByAdminId({adminId:null===f||void 0===f?void 0:f.id.id}).then((function(e){var t;te(null===(t=e.deviceGroupList)||void 0===t?void 0:t.map((function(e){return{name:e.name,id:e.id}})))}))}}),[l,f,e.open]),Object(u.useEffect)((function(){oe?A.f.searchGroups({textSearch:oe}).then((function(e){Q(e)})):Ce()}),[oe,Ce]);var Ee,Se=Object(u.useCallback)((function(e){return ee.some((function(t){return t.id===e}))}),[ee]),Ne=Object(u.useCallback)((function(e,t){if(Se(e.id))te(ee.filter((function(t){return t.id!==e.id})));else{if(t)return;te([].concat(Object(S.a)(ee),[{name:e.name||e.friendlyName,id:e.id}]))}}),[Se,ee]),Te=function(){var t=we.values,n=t.firstName,a=t.lastName,o=t.password,r={firstName:n,lastName:a,email:t.email,authority:le};if(ve&&(r.password=o),[p.b.GROUP_ADMIN,p.b.GROUP_OBSERVE_ADMIN].includes(le)){if(null===ee||void 0===ee||!ee.length)return void O.c.error("user.selectAtLeastOneGroup");r.deviceGroupIdList=ee.map((function(e){return e.id}))}he||(r.adminId=f.id.id),je(!0),j.a.createAdmin(r).then((function(t){je(!1),Ae(),O.c.success(ge),e.onOk()})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message&&O.c.error(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message);je(!1)}))},Re=function(){we.handleSubmit(),we.validateForm().then((function(e){var t=Object.values(e);if(null!==t&&void 0!==t&&t.length)O.c.error("user.createAdminErrors."+t[0]);else{if(ve){var n=we.values;if(n.password!==n.passwordConfirm)return void O.c.error("user.passwordNotSame")}w(1)}}))},Ie=function(e){switch(e){case a.CANCEL:Ae();break;case a.NEXT_STEP:Re();break;case a.PREV_STEP:w(C-1);break;case a.CONFIRM:Te()}},ke=Object(u.useCallback)((function(){w(0),te([]),Oe(!1),se(p.b.GENERAL_ADMIN),we.resetForm()}),[we]),Ae=Object(u.useCallback)((function(){n(),ke()}),[n,ke]),ye=Object(u.useMemo)((function(){var e=[],t=ee.map((function(e){return e.id})),n=function(e,n){if(n||t.includes(e.id))return!0};return function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;a.forEach((function(a){(a.root_node||0===a.level)&&e.push(a.id),n(a,o)?(e.push(a.id),t(a.child,!0)):t(a.child)})),a.forEach((function(t){var n;null!==(n=t.child)&&void 0!==n&&n.some((function(t){return e.includes(t.id)}))&&e.push(t.id)}))}(K),e}),[K,ee]),_e=Object(u.useCallback)((function(e){var t="ic_add2",n=null,a="common.add";Se(e.id)&&(t="ic_failed",n="red",a="common.remove");var o=ye.includes(e.id)&&!Se(e.id);return Object(U.jsxs)(c.a,{onClick:function(){return Ne(e,o)},className:"flex-start",sx:{flexWrap:"nowrap",cursor:o?"not-allowed":"pointer",opacity:o?.7:1},children:[Object(U.jsx)(D.a,{color:n,primary:!o,icon:t}),Object(U.jsx)(s.a,{sx:{whiteSpace:"nowrap"},children:h(a)})]},0)}),[Se,Ne,h,ye]),Me=Object(u.useCallback)((function(e){var t,n=e.level%6,a=m[n];return Object(U.jsx)(G.a,{ContentProps:{avatarColor:a,showAddButton:!1,operationComponents:[_e(e)]},nodeId:e.id,label:e.name,children:null===(t=e.child)||void 0===t?void 0:t.map((function(e){return Me(e)}))},e.id)}),[m,_e]),De=Object(u.useMemo)((function(){return 1===C&&le===p.b.GROUP_ADMIN||le===p.b.GROUP_OBSERVE_ADMIN}),[le,C]),Pe=function(e){return Object(r.a)(Object(r.a)({},we.getFieldProps(e)),{},{error:we.errors[e]&&we.touched[e],label:h("user."+e),width:300})};return Object(U.jsxs)(M.b,Object(r.a)(Object(r.a)({size:"md",title:xe},e),{},{onOk:Te,onClose:Ae,hideFooter:!0,children:[Object(U.jsxs)(c.a,{children:[Object(U.jsx)(c.a,{className:"flex",children:Object(U.jsx)(N.a,{sx:{width:420},nonLinear:!0,activeStep:C,children:Y.map((function(e,t){return Object(U.jsx)(T.a,{completed:C>=t,children:Object(U.jsx)(R.a,{color:"inherit",onClick:(n=t,function(){1===n?Re():w(n)}),children:h(e)})},e);var n}))})}),0===C&&Object(U.jsxs)(c.a,{sx:{py:1,pt:8,px:{xs:2,sm:3}},children:[Object(U.jsxs)(I.a,{container:!0,children:[Object(U.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(c.a,{className:"flex",sx:{mb:3,width:1},children:Object(U.jsx)(V.a,Object(r.a)({},Pe("firstName")))})}),Object(U.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(c.a,{className:"flex",sx:{mb:3,width:1},children:Object(U.jsx)(V.a,Object(r.a)({},Pe("lastName")))})}),Object(U.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(U.jsxs)(c.a,{className:"flex-column flex",sx:{mb:3,width:1},children:[Object(U.jsx)(V.a,Object(r.a)({},Pe("email"))),!ve&&Object(U.jsx)(c.a,{sx:{width:300},children:Object(U.jsx)(d.a,{sx:{mt:3},onClick:function(){return Oe(!0)},variant:"outlined",children:h("user.changePwd")})})]})})]}),ve&&Object(U.jsxs)(I.a,{sx:{mt:{xs:0}},container:!0,children:[Object(U.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(U.jsxs)(c.a,{className:"flex",sx:{mb:3,width:1},children:[Object(U.jsx)("input",{className:"hided-input",type:"password",name:"",id:""}),Object(U.jsx)(F.a,Object(r.a)({},Pe("password")))]})}),Object(U.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(c.a,{className:"flex",sx:{mb:3,width:1},children:Object(U.jsx)(F.a,Object(r.a)({},Pe("passwordConfirm")))})})]})]}),1===C&&Object(U.jsxs)(c.a,{sx:{minHeight:120},children:[Object(U.jsxs)(c.a,{sx:{py:0,pt:3,pl:5.5},className:"flex-start",children:[Object(U.jsx)(s.a,{sx:{width:80,mr:3},children:h("user.selectAuth")}),Object(U.jsx)(W.b,{size:"small",width:300,options:X,value:le,onChange:function(e){se(e.target.value)}}),Object(U.jsx)(c.a,{sx:{ml:3},children:Object(U.jsx)(B.a,{content:"user.canViewSelectedGroup"})})]}),De&&Object(U.jsxs)(c.a,{sx:{py:1,pt:3,alignItems:"flex-start"},className:"flex",children:[Object(U.jsxs)(c.a,{sx:{width:500},children:[Object(U.jsx)(c.a,{sx:{pl:5.5,mb:-1.5},children:Object(U.jsx)(v.a,{width:300,value:oe,placeholder:"device.searchGroup",onChange:re})}),Object(U.jsx)(c.a,{sx:{px:2,mt:2,height:420,overflow:"auto",borderRight:"1px solid #eee"},children:Object(U.jsxs)(G.b,{defaultCollapseIcon:Object(U.jsx)(D.a,{icon:"ic_arrow_down"}),defaultExpandIcon:Object(U.jsx)(D.a,{icon:"ic_arrow_right"}),sx:{flexGrow:1,overflowY:"auto"},children:[K&&(Ee=K,Ee.map((function(e){return Me(e)}))),!K.length&&Object(U.jsx)(_.a,{})]})})]}),Object(U.jsxs)(c.a,{sx:{flex:1,px:6,width:380},children:[Object(U.jsxs)(c.a,{className:"flex-between",children:[Object(U.jsx)(s.a,{children:h("user.selectedDeviceGroups")}),Object(U.jsx)(d.a,{onClick:function(){te([])},variant:"text",children:h("file.removeAll")})]}),Object(U.jsx)(c.a,{sx:{pt:4,height:400,overflowY:"auto"},children:ee.map((function(e){return Object(U.jsx)(P.a,{sx:{mr:2,my:1,maxWidth:210},deleteIcon:Object(U.jsx)(D.a,{pointer:!0,fontSize:12,icon:"ic_dialog_close"}),onDelete:function(){return t=e.id,void te(ee.filter((function(e){return e.id!==t})));var t},label:e.name},e.id)}))})]})]})]})]}),Object(U.jsxs)(c.a,{sx:{mt:2},className:"flex-end",children:[Object(U.jsx)(d.a,{onClick:function(){return Ie(a.CANCEL)},sx:{mr:2},children:h("common.cancel")}),0===C&&Object(U.jsx)(d.a,{onClick:function(){return Ie(a.NEXT_STEP)},sx:{mr:2},variant:"outlined",children:h("common.nextStep")}),1===C&&Object(U.jsx)(d.a,{onClick:function(){return Ie(a.PREV_STEP)},sx:{mr:2},variant:"outlined",children:h("common.prevStep")}),1===C&&Object(U.jsx)(H.a,{loading:be,variant:"contained",onClick:function(){return Ie(a.CONFIRM)},sx:{mr:2},children:Object(U.jsx)("span",{children:h("common.confirm")})})]})]}))}));function K(e){var t=Object(b.a)().t,n=Object(u.useState)([]),a=Object(i.a)(n,2),o=a[0],r=a[1],l=Object(u.useState)(!1),d=Object(i.a)(l,2),f=d[0],m=d[1];Object(u.useEffect)((function(){m(!0),j.a.getGroupsByAdminId({adminId:e.adminId}).then((function(e){r(e.deviceGroupList),m(!1)}))}),[e.adminId]);var p=Object(u.useMemo)((function(){return[new x.a("name","user.deviceGroupName"),new x.a("deviceCount","user.deviceNum",void 0,(function(e){return Object(U.jsx)(c.a,{children:t("user.devieNumLabel",{count:e.deviceCount})})}))]}),[t]);return Object(U.jsxs)(c.a,{sx:{width:375},children:[Object(U.jsx)(s.a,{sx:{pl:2,pt:2},fontSize:18,children:t("user.selectedGroupLabel",{count:null===o||void 0===o?void 0:o.length})}),Object(U.jsx)(x.g,{width:360,hideBoxShadow:!0,columns:p,rows:o,loading:f,pageSize:3})]})}var Q,Z=n(251),$=n(104),ee=n(141);!function(e){e[e.EDIT=0]="EDIT",e[e.DELETE=1]="DELETE"}(Q||(Q={}));var te=[new f.e(Q.EDIT,"common.edit","ic_edit"),new f.e(Q.DELETE,"user.deleteUser","ic_delete")];function ne(){var e=Object(b.a)().t,t=Object(u.useState)(new m.d(0,10,null,g.a.BY_CREATED_TIME,"desc",{authority:void 0})),n=Object(i.a)(t,2),a=n[0],f=n[1],S=Object(u.useState)(),N=Object(i.a)(S,2),T=N[0],R=N[1],I=Object(u.useState)(!1),k=Object(i.a)(I,2),A=k[0],y=k[1],_=Object(u.useState)(void 0),M=Object(i.a)(_,2),D=M[0],P=M[1],G=Object(u.useState)([]),B=Object(i.a)(G,2),z=B[0],L=B[1],V=Object(u.useState)(!1),F=Object(i.a)(V,2),W=F[0],H=F[1],q=Object(u.useState)(o.CREATE),Y=Object(i.a)(q,2),X=Y[0],ne=Y[1],ae=Object(u.useState)(),oe=Object(i.a)(ae,2),re=oe[0],ie=oe[1],ce=Object($.c)(),le=Object(u.useCallback)((function(e){f(Object(r.a)(Object(r.a)({},a),{},{page:0,textSearch:e}))}),[a]),se=Object(u.useCallback)((function(){y(!0),j.a.getAdmins(a).then((function(e){R(e),y(!1)}))}),[a]);Object(u.useEffect)((function(){se()}),[se]);var de=Object(u.useCallback)((function(e){P(e),f(Object(r.a)(Object(r.a)({},a),{},{page:0,authority:e}))}),[a]),ue=Object(u.useCallback)((function(){f(Object(r.a)(Object(r.a)({},a),{},{page:0}))}),[a]),be=Object(u.useCallback)((function(t){var n=t||z;1!==n.length||n[0].authority!==p.b.TENANT_ADMIN?Object(O.a)({title:e("user.deleteAdminTitle",{count:n.length}),content:"user.deleteAdminContent",onOk:function(){var e=j.a.deleteAdmins(n.filter((function(e){return e.authority!==p.b.TENANT_ADMIN})).map((function(e){return e.id.id})));return e.then((function(){ue(),L([]),O.c.success("user.deleteAdminSuccessed")})),e}}):Object(O.b)({title:"user.deleteAdminContent",content:"",onOk:function(){}})}),[z,e,ue]),je=Object(u.useCallback)((function(e,t){switch(e){case Q.DELETE:be([t]);break;case Q.EDIT:ie(t),ne(o.EDIT),H(!0)}}),[be]),fe=function(){ne(o.CREATE),H(!0)},me=Object(u.useMemo)((function(){return[new x.d("firstName","user.firstName","left",void 0,(function(e){var t;return Object(U.jsxs)(c.a,{sx:{pl:2,py:1,flexWrap:"nowrap"},className:"flex-start",children:[Object(U.jsx)(l.a,{sx:{bgcolor:Z.c,mr:2},children:null===e||void 0===e||null===(t=e.firstName)||void 0===t?void 0:t.substring(0,1)}),Object(U.jsx)(s.a,{sx:{pr:2},children:e.firstName})]})})),new x.a("lastName","user.lastName"),new x.a("email","user.email"),new x.a("authority","user.adminAuthority",void 0,(function(t){return Object(U.jsx)(c.a,{children:e("common."+t.authority)})})),new x.d("groupPermission","user.groupPermission",void 0,void 0,(function(t){return[p.e,p.f].includes(t.authority)?Object(U.jsx)(h.a,{trigger:Object(U.jsx)(w.a,{children:e("user.partGroupAccess")}),children:Object(U.jsx)(K,{adminId:t.id.id})}):Object(U.jsx)(c.a,{sx:{pl:2},children:e("user.allGroupAccess")})})),new x.b("createdTime","common.createdTime"),new x.d("operation",null,"right",80,(function(e){return Object(U.jsx)(h.a,{disabled:e.authority===p.j,sx:{pl:2},menus:te,onMenuClick:function(t){return je(t,e)}})}),!0)]}),[e,je]),pe=Object(u.useMemo)((function(){return Object(U.jsxs)(c.a,{className:"flex-start",sx:{flexWrap:"nowrap"},children:[Object(U.jsx)(v.a,{value:a.textSearch,onChange:le}),Object(U.jsx)(c.a,{sx:{pl:2},children:Object(U.jsx)(E.a,{menus:p.m,title:p.l.get(D),selected:D,onMenuClick:de})}),Object(U.jsx)(d.a,{onClick:fe,variant:"contained",sx:{mx:2},children:e("user.addAdmin")}),Object(U.jsx)(d.a,{disabled:!z.length,onClick:function(){return be()},variant:"outlined",children:e("user.deleteAdmin")})]})}),[a.textSearch,le,e,D,de,z,be]);return ce?Object(U.jsxs)(C.a,{noPadding:!0,containerFullHeight:!0,containerMargin:!1,fullHeight:!0,headerChild:pe,title:e("user.userMenus.ADMIN_MANAGEMENT"),children:[Object(U.jsx)(x.g,{showSelect:!0,selected:z,totalPages:null===T||void 0===T?void 0:T.totalPages,onSelectChange:L,pageChange:function(e){f(Object(r.a)(Object(r.a)({},a),{},{page:e}))},hideBoxShadow:!0,columns:me,rows:null===T||void 0===T?void 0:T.data,loading:A,pageSize:10,page:a.page}),Object(U.jsx)(J,{detail:re,configType:X,open:W,onOk:ue,onClose:function(){return H(!1)}})]}):Object(U.jsx)(ee.a,{to:"/user"})}}}]);