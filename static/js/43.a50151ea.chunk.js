(this["webpackJsonpui-ngx"]=this["webpackJsonpui-ngx"]||[]).push([[43],{711:function(e,t,a){"use strict";var n=a(6),r=a(4),c=a(2),o=a(0),i=a(8),s=a(152),l=a(7),u=a(16),d=a(32),b=a(1),f=Object(d.a)(Object(b.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),v=a(92),j=a(103);function g(e){return Object(v.a)("MuiAvatar",e)}Object(j.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var O=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],m=Object(l.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,a=e.ownerState;return Object(c.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===a.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===a.variant&&{borderRadius:0},a.colorDefault&&Object(c.a)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),h=Object(l.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),p=Object(l.a)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var x=o.forwardRef((function(e,t){var a=Object(u.a)({props:e,name:"MuiAvatar"}),l=a.alt,d=a.children,f=a.className,v=a.component,j=void 0===v?"div":v,x=a.imgProps,w=a.sizes,S=a.src,T=a.srcSet,A=a.variant,C=void 0===A?"circular":A,k=Object(r.a)(a,O),M=null,y=function(e){var t=e.crossOrigin,a=e.referrerPolicy,r=e.src,c=e.srcSet,i=o.useState(!1),s=Object(n.a)(i,2),l=s[0],u=s[1];return o.useEffect((function(){if(r||c){u(!1);var e=!0,n=new Image;return n.onload=function(){e&&u("loaded")},n.onerror=function(){e&&u("error")},n.crossOrigin=t,n.referrerPolicy=a,n.src=r,c&&(n.srcset=c),function(){e=!1}}}),[t,a,r,c]),l}(Object(c.a)({},x,{src:S,srcSet:T})),E=S||T,I=E&&"error"!==y,N=Object(c.a)({},a,{colorDefault:!I,component:j,variant:C}),R=function(e){var t=e.classes,a={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(s.a)(a,g,t)}(N);return M=I?Object(b.jsx)(h,Object(c.a)({alt:l,src:S,srcSet:T,sizes:w,ownerState:N,className:R.img},x)):null!=d?d:E&&l?l[0]:Object(b.jsx)(p,{className:R.fallback}),Object(b.jsx)(m,Object(c.a)({as:j,ownerState:N,className:Object(i.a)(R.root,f),ref:t},k,{children:M}))}));t.a=x},949:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n,r=a(5),c=a(6),o=a(42),i=a(711),s=a(83),l=a(134),u=a(0),d=a(171),b=a(105),f=a(173),v=a(45),j=a(175),g=a(110),O=a(36),m=a(138),h=a(24),p=a(251),x=a(1);!function(e){e[e.ACTIVE=0]="ACTIVE"}(n||(n={}));var w=[new O.e(n.ACTIVE,"user.activeAdmin","ic_edit")];function S(){var e=Object(d.a)().t,t=Object(u.useState)(),a=Object(c.a)(t,2),O=a[0],S=a[1],T=Object(u.useState)(!1),A=Object(c.a)(T,2),C=A[0],k=A[1],M=Object(u.useState)(new m.d(0,10)),y=Object(c.a)(M,2),E=y[0],I=y[1],N=Object(u.useState)([]),R=Object(c.a)(N,2),D=R[0],P=R[1];Object(u.useEffect)((function(){k(!0),g.a.getTenants(E).then((function(e){console.log(e.data),S(e),k(!1)})).catch((function(e){k(!1)}))}),[E]);var z=Object(u.useCallback)((function(e){I(Object(r.a)(Object(r.a)({},E),{},{page:0,textSearch:e}))}),[E]),V=Object(u.useCallback)((function(t){var a=t||D,n=a.filter((function(e){return!e.activate})),c=n.length;c>0?Object(h.a)({title:e("user.activeTenantTitle",{count:c}),content:e("user.activeTenantContent",{count:c,allCount:a.length}),okText:"common.confirm",onOk:function(){var e=n.map((function(e){return console.log(e),g.a.updateTenants(e.id,"activate")})),t=Promise.all(e);return t.then((function(){h.c.success("user.activeTenantSuccessed"),I(Object(r.a)(Object(r.a)({},E),{},{page:0}))})),t}}):Object(h.b)({title:"user.noTenantToActivate",content:"user.noTenantToActivateContent"})}),[e,D,E]),F=Object(u.useCallback)((function(e,t){e===n.ACTIVE&&V([t])}),[V]),H=Object(u.useMemo)((function(){return[new v.d("name","user.name","left",void 0,(function(e){var t;return Object(x.jsxs)(o.a,{sx:{pl:2,py:1,flexWrap:"nowrap"},className:"flex-start",children:[Object(x.jsx)(i.a,{sx:{bgcolor:p.c,mr:2},children:null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.substring(0,1)}),Object(x.jsx)(s.a,{sx:{pr:2},children:e.name})]})})),new v.a("email","user.tenant.email"),new v.a("activate","user.tenant.activate",null,(function(t){return e("user.licenseStatus."+(1===t.activate?"ACTIVE":"INACTIVE"))})),new v.a("deviceUsage","user.tenant.deviceUsage",void 0,(function(e){return Object(x.jsx)(s.a,{children:e.deviceNum+"/"+e.maxDevices})})),new v.b("licenseExpireTime","user.tenant.licenseExpireTime"),new v.b("createdTime","user.tenant.createdTime"),new v.d("operation",null,"right",80,(function(e){return Object(x.jsx)(b.a,{sx:{pl:2},menus:w,onMenuClick:function(t){return F(t,e)}})}),!0)]}),[F,e]),q=Object(u.useMemo)((function(){return Object(x.jsxs)(o.a,{className:"flex-start",sx:{flexWrap:"nowrap"},children:[Object(x.jsx)(f.a,{value:E.textSearch,onChange:z}),Object(x.jsx)(l.a,{disabled:!D.length,onClick:function(){return V(null)},variant:"contained",sx:{ml:2},children:e("user.activeAdmin")})]})}),[E.textSearch,z,e,D,V]);return Object(x.jsx)(o.a,{sx:{px:2},children:Object(x.jsx)(j.a,{noPadding:!0,containerFullHeight:!0,containerMargin:!1,fullHeight:!0,headerChild:q,title:e("user.userMenus.ADMIN_MANAGEMENT"),children:Object(x.jsx)(v.g,{hideBoxShadow:!0,showSelect:!0,selected:D,totalPages:null===O||void 0===O?void 0:O.totalPages,onSelectChange:P,pageChange:function(e){I(Object(r.a)(Object(r.a)({},E),{},{page:e}))},columns:H,rows:null===O||void 0===O?void 0:O.data,loading:C,pageSize:10,page:E.page})})})}}}]);